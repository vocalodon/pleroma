webpackJsonp([3],{155:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(10),g=n.n(h),f=function(e){function t(){var n,o,i;s()(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){o.props.onClick()},i=n,c()(o,i)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.type,o=e.active,a=e.columnHeaderId,s="";return t&&(s=i()("i",{className:"fa fa-fw fa-"+t+" column-header__icon"})),i()("h1",{className:g()("column-header",{active:o}),id:a||null},void 0,i()("button",{onClick:this.handleClick},void 0,s,n))},t}(p.a.PureComponent)},293:function(e,t,n){"use strict";n.d(t,"a",function(){return q});var o,i,a,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),f=n.n(g),m=n(294),v=n(100),b=n(14),_=n.n(b),y=n(5),k=n.n(y),C=n(295),w=n(297),M=n(302),x=n(7),S=n(304),j=n(306),N=n(308),O=n(309),D=n(311),T=n(317),I=n(43),P=n(12),R=n.n(P),F=n(99),E=(n.n(F),n(13)),A="><                　\u2028\u2029\t\n\v\f\r",z=Object(x.f)({placeholder:{id:"compose_form.placeholder",defaultMessage:"What is on your mind?"},spoiler_placeholder:{id:"compose_form.spoiler_placeholder",defaultMessage:"Write your warning here"},publish:{id:"compose_form.publish",defaultMessage:"Toot"},publishLoud:{id:"compose_form.publish_loud",defaultMessage:"{publish}!"}}),q=Object(x.g)((a=i=function(e){function t(){var n,o,i;l()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleKeyDown=function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&o.handleSubmit()},o.handleSubmit=function(){o.props.text!==o.autosuggestTextarea.textarea.value&&o.props.onChange(o.autosuggestTextarea.textarea.value);var e=o.props,t=e.is_submitting,n=e.is_uploading,i=e.anyMedia,a=[o.props.spoiler_text,o.props.text].join("");t||n||Object(F.length)(a)>E.h||0!==a.length&&0===a.trim().length&&!i||o.props.onSubmit()},o.onSuggestionsClearRequested=function(){o.props.onClearSuggestions()},o.onSuggestionsFetchRequested=function(e){o.props.onFetchSuggestions(e)},o.onSuggestionSelected=function(e,t,n){o.props.onSuggestionSelected(e,t,n)},o.handleChangeSpoilerText=function(e){o.props.onChangeSpoilerText(e.target.value)},o.setAutosuggestTextarea=function(e){o.autosuggestTextarea=e},o.setSpoilerText=function(e){o.spoilerText=e},o.handleEmojiPick=function(e){var t=o.props.text,n=o.autosuggestTextarea.textarea.selectionStart,i=e.custom&&n>0&&!A.includes(t[n-1]);o.props.onPickEmoji(n,e,i)},i=n,d()(o,i)}return h()(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.focusDate!==e.focusDate){var t=void 0,n=void 0;this.props.preselectDate!==e.preselectDate?(t=this.props.text.length,n=this.props.text.search(/\s/)+1):"number"==typeof this.props.caretPosition?(n=this.props.caretPosition,t=this.props.caretPosition):(t=this.props.text.length,n=t),this.autosuggestTextarea.textarea.setSelectionRange(n,t),this.autosuggestTextarea.textarea.focus()}else e.is_submitting&&!this.props.is_submitting?this.autosuggestTextarea.textarea.focus():this.props.spoiler!==e.spoiler&&(this.props.spoiler?this.spoilerText.focus():this.autosuggestTextarea.textarea.focus())},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPaste,o=e.showSearch,i=e.anyMedia,a=this.props.is_submitting,s=[this.props.spoiler_text,this.props.text].join(""),c=a||this.props.is_uploading||Object(F.length)(s)>E.h||0!==s.length&&0===s.trim().length&&!i,l="";return l="private"===this.props.privacy||"direct"===this.props.privacy?r()("span",{className:"compose-form__publish-private"},void 0,r()("i",{className:"fa fa-lock"})," ",t.formatMessage(z.publish)):"unlisted"!==this.props.privacy?t.formatMessage(z.publishLoud,{publish:t.formatMessage(z.publish)}):t.formatMessage(z.publish),r()("div",{className:"compose-form"},void 0,r()(T.a,{}),r()(C.a,{}),r()("div",{className:"spoiler-input "+(this.props.spoiler?"spoiler-input--visible":"")},void 0,r()("label",{},void 0,r()("span",{style:{display:"none"}},void 0,t.formatMessage(z.spoiler_placeholder)),f.a.createElement("input",{placeholder:t.formatMessage(z.spoiler_placeholder),value:this.props.spoiler_text,onChange:this.handleChangeSpoilerText,onKeyDown:this.handleKeyDown,type:"text",className:"spoiler-input__input",id:"cw-spoiler-input",ref:this.setSpoilerText}))),r()("div",{className:"compose-form__autosuggest-wrapper"},void 0,f.a.createElement(w.a,{ref:this.setAutosuggestTextarea,placeholder:t.formatMessage(z.placeholder),disabled:a,value:this.props.text,onChange:this.handleChange,suggestions:this.props.suggestions,onKeyDown:this.handleKeyDown,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,onPaste:n,autoFocus:!o&&!Object(I.b)(window.innerWidth)}),r()(O.a,{onPickEmoji:this.handleEmojiPick})),r()("div",{className:"compose-form__modifiers"},void 0,r()(D.a,{})),r()("div",{className:"compose-form__buttons-wrapper"},void 0,r()("div",{className:"compose-form__buttons"},void 0,r()(M.a,{}),r()(j.a,{}),r()(N.a,{}),r()(S.a,{})),r()("div",{className:"character-counter__wrapper"},void 0,r()(m.a,{max:E.h,text:s}))),r()("div",{className:"compose-form__publish"},void 0,r()("div",{className:"compose-form__publish-button-wrapper"},void 0,r()(v.a,{text:l,onClick:this.handleSubmit,disabled:c,block:!0}))))},t}(R.a),i.propTypes={intl:k.a.object.isRequired,text:k.a.string.isRequired,suggestion_token:k.a.string,suggestions:_.a.list,spoiler:k.a.bool,privacy:k.a.string,spoiler_text:k.a.string,focusDate:k.a.instanceOf(Date),caretPosition:k.a.number,preselectDate:k.a.instanceOf(Date),is_submitting:k.a.bool,is_uploading:k.a.bool,onChange:k.a.func.isRequired,onSubmit:k.a.func.isRequired,onClearSuggestions:k.a.func.isRequired,onFetchSuggestions:k.a.func.isRequired,onSuggestionSelected:k.a.func.isRequired,onChangeSpoilerText:k.a.func.isRequired,onPaste:k.a.func.isRequired,onPickEmoji:k.a.func.isRequired,showSearch:k.a.bool,anyMedia:k.a.bool},i.defaultProps={showSearch:!1},o=a))||o},294:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(99),g=(n.n(h),function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.checkRemainingText=function(e){return e<0?i()("span",{className:"character-counter character-counter--over"},void 0,e):i()("span",{className:"character-counter"},void 0,e)},t.prototype.render=function(){var e=this.props.max-Object(h.length)(this.props.text);return this.checkRemainingText(e)},t}(p.a.PureComponent))},295:function(e,t,n){"use strict";var o=n(9),i=n(17),a=n(67),s=n(296),r=function(){var e=Object(a.e)();return function(t){return{status:e(t,t.getIn(["compose","in_reply_to"]))}}},c=function(e){return{onCancel:function(){e(Object(i.E)())}}};t.a=Object(o.connect)(r,c)(s.a)},296:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var o,i,a,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),f=(n.n(g),n(14)),m=n.n(f),v=n(5),b=n.n(v),_=n(54),y=n(23),k=n(53),C=n(7),w=n(12),M=n.n(w),x=n(98),S=Object(C.f)({cancel:{id:"reply_indicator.cancel",defaultMessage:"Cancel"}}),j=Object(C.g)((a=i=function(e){function t(){var n,o,i;l()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(){o.props.onCancel()},o.handleAccountClick=function(e){0===e.button&&(e.preventDefault(),o.context.router.history.push("/accounts/"+o.props.status.getIn(["account","id"])))},i=n,d()(o,i)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.intl;if(!t)return null;var o={__html:t.get("contentHtml")},i={direction:Object(x.a)(t.get("search_index"))?"rtl":"ltr"};return r()("div",{className:"reply-indicator"},void 0,r()("div",{className:"reply-indicator__header"},void 0,r()("div",{className:"reply-indicator__cancel"},void 0,r()(y.a,{title:n.formatMessage(S.cancel),icon:"times",onClick:this.handleClick,inverted:!0})),r()("a",{href:t.getIn(["account","url"]),onClick:this.handleAccountClick,className:"reply-indicator__display-name"},void 0,r()("div",{className:"reply-indicator__display-avatar"},void 0,r()(_.a,{account:t.get("account"),size:24})),r()(k.a,{account:t.get("account")}))),r()("div",{className:"reply-indicator__content",style:i,dangerouslySetInnerHTML:o}))},t}(M.a),i.contextTypes={router:b.a.object},i.propTypes={status:m.a.map,onCancel:b.a.func.isRequired,intl:b.a.object.isRequired},o=a))||o},297:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o,i,a=n(2),s=n.n(a),r=n(29),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),f=n(0),m=(n.n(f),n(298)),v=n(300),b=n(14),_=n.n(b),y=n(5),k=n.n(y),C=n(98),w=n(12),M=n.n(w),x=n(301),S=n(10),j=n.n(S),N=function(e,t){var n=void 0,o=e.slice(0,t).search(/\S+$/),i=e.slice(t).search(/\s/);return!(n=i<0?e.slice(o):e.slice(o,i+t))||n.trim().length<3||-1===["@",":","#"].indexOf(n[0])?[null,null]:(n=n.trim().toLowerCase(),n.length>0?[o+1,n]:[null,null])},O=(i=o=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=p()(this,e.call.apply(e,[this].concat(r))),o.state={suggestionsHidden:!1,selectedSuggestion:0,lastToken:null,tokenStart:0},o.onChange=function(e){var t=N(e.target.value,e.target.selectionStart),n=t[0],i=t[1];null!==i&&o.state.lastToken!==i?(o.setState({lastToken:i,selectedSuggestion:0,tokenStart:n}),o.props.onSuggestionsFetchRequested(i)):null===i&&(o.setState({lastToken:null}),o.props.onSuggestionsClearRequested()),o.props.onChange(e)},o.onKeyDown=function(e){var t=o.props,n=t.suggestions,i=t.disabled,a=o.state,s=a.selectedSuggestion,r=a.suggestionsHidden;if(i)return void e.preventDefault();if(229!==e.which&&!e.isComposing){switch(e.key){case"Escape":0===n.size||r?document.querySelector(".ui").parentElement.focus():(e.preventDefault(),o.setState({suggestionsHidden:!0}));break;case"ArrowDown":n.size>0&&!r&&(e.preventDefault(),o.setState({selectedSuggestion:Math.min(s+1,n.size-1)}));break;case"ArrowUp":n.size>0&&!r&&(e.preventDefault(),o.setState({selectedSuggestion:Math.max(s-1,0)}));break;case"Enter":case"Tab":null!==o.state.lastToken&&n.size>0&&!r&&(e.preventDefault(),e.stopPropagation(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,n.get(s)))}!e.defaultPrevented&&o.props.onKeyDown&&o.props.onKeyDown(e)}},o.onBlur=function(){o.setState({suggestionsHidden:!0})},o.onSuggestionClick=function(e){var t=o.props.suggestions.get(e.currentTarget.getAttribute("data-index"));e.preventDefault(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,t),o.textarea.focus()},o.setTextarea=function(e){o.textarea=e},o.onPaste=function(e){e.clipboardData&&1===e.clipboardData.files.length&&(o.props.onPaste(e.clipboardData.files),e.preventDefault())},o.renderSuggestion=function(e,t){var n=o.state.selectedSuggestion,i=void 0,a=void 0;return"object"===(void 0===e?"undefined":c()(e))?(i=s()(v.a,{emoji:e}),a=e.id):"#"===e[0]?(i=e,a=e):(i=s()(m.a,{id:e}),a=e),s()("div",{role:"button",tabIndex:"0","data-index":t,className:j()("autosuggest-textarea__suggestions__item",{selected:t===n}),onMouseDown:o.onSuggestionClick},a,i)},i=n,p()(o,i)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){e.suggestions!==this.props.suggestions&&e.suggestions.size>0&&this.state.suggestionsHidden&&this.setState({suggestionsHidden:!1})},t.prototype.render=function(){var e=this.props,t=e.value,n=e.suggestions,o=e.disabled,i=e.placeholder,a=e.onKeyUp,r=e.autoFocus,c=this.state.suggestionsHidden,l={direction:"ltr"};return Object(C.a)(t)&&(l.direction="rtl"),s()("div",{className:"autosuggest-textarea"},void 0,s()("label",{},void 0,s()("span",{style:{display:"none"}},void 0,i),s()(x.a,{inputRef:this.setTextarea,className:"autosuggest-textarea__textarea",disabled:o,placeholder:i,autoFocus:r,value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:a,onBlur:this.onBlur,onPaste:this.onPaste,style:l,"aria-autocomplete":"list"})),s()("div",{className:"autosuggest-textarea__suggestions "+(c||n.isEmpty()?"":"autosuggest-textarea__suggestions--visible")},void 0,n.map(this.renderSuggestion)))},t}(M.a),o.propTypes={value:k.a.string,suggestions:_.a.list,disabled:k.a.bool,placeholder:k.a.string,onSuggestionSelected:k.a.func.isRequired,onSuggestionsClearRequested:k.a.func.isRequired,onSuggestionsFetchRequested:k.a.func.isRequired,onChange:k.a.func.isRequired,onKeyUp:k.a.func,onKeyDown:k.a.func,onPaste:k.a.func.isRequired,autoFocus:k.a.bool},o.defaultProps={autoFocus:!0},i)},298:function(e,t,n){"use strict";var o=n(9),i=n(299),a=n(67),s=function(){var e=Object(a.c)();return function(t,n){var o=n.id;return{account:e(t,o)}}};t.a=Object(o.connect)(s)(i.a)},299:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o,i,a=n(2),s=n.n(a),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(54)),f=n(53),m=n(14),v=n.n(m),b=n(12),_=n.n(b),y=(i=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.account;return s()("div",{className:"autosuggest-account"},void 0,s()("div",{className:"autosuggest-account-icon"},void 0,s()(g.a,{account:e,size:18})),s()(f.a,{account:e}))},t}(_.a),o.propTypes={account:v.a.map.isRequired},i)},300:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(161),g=n.n(h),f=e.env.CDN_HOST||"",m=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props.emoji,t=void 0;if(e.custom)t=e.imageUrl;else{var n=g.a[e.native]||g.a[e.native.replace(/\uFE0F$/,"")];if(!n)return null;t=f+"/emoji/"+n.filename+".svg"}return i()("div",{className:"autosuggest-emoji"},void 0,i()("img",{className:"emojione",src:t,alt:e.native||e.colons}),e.colons)},t}(p.a.PureComponent)}).call(t,n(35))},301:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=null),void 0===i&&(i=null),null===h.parentNode&&document.body.appendChild(h);var a=r(e,t,n);if(null===a)return null;var s=a.paddingSize,c=a.borderSize,l=a.boxSizing,u=a.sizingStyle;Object.keys(u).forEach(function(e){h.style[e]=u[e]}),Object.keys(g).forEach(function(e){h.style.setProperty(e,g[e],"important")}),h.value=e.value||e.placeholder||"x";var d=-1/0,p=1/0,f=h.scrollHeight;"border-box"===l?f+=c:"content-box"===l&&(f-=s),h.value="x";var m=h.scrollHeight-s;return null===o&&null===i||(null!==o&&(d=m*o,"border-box"===l&&(d=d+s+c),f=Math.max(d,f)),null!==i&&(p=m*i,"border-box"===l&&(p=p+s+c),f=Math.min(p,f))),{height:f,minHeight:d,maxHeight:p,rowCount:Math.floor(f/m)}}function r(e,t,n){if(void 0===n&&(n=!1),n&&m[t])return m[t];var o=window.getComputedStyle(e);if(null===o)return null;var i=f.reduce(function(e,t){return e[t]=o.getPropertyValue(t),e},{}),a=i["box-sizing"];p&&"border-box"===a&&(i.width=parseFloat(i.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var s=parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),r=parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),c={sizingStyle:i,paddingSize:s,borderSize:r,boxSizing:a};return n&&(m[t]=c),c}var c=n(0),l=n.n(c),u=n(5),d=(n.n(u),"undefined"!=typeof window&&"undefined"!=typeof document),p=!!d&&!!document.documentElement.currentStyle,h=d&&document.createElement("textarea"),g={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},f=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],m={},v=function(e){return delete m[e]},b=function(e){return void 0===e&&(e=0),function(){return++e}}(),_=function(){},y=d&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],k=y[0],C=y[1],w=function(e){function t(t){var n;return n=e.call(this,t)||this,n._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef&&n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=_),void 0===n._rootDOMNode)return void e();var t=s(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null===t)return void e();var o=t.height,i=t.minHeight,a=t.maxHeight,r=t.rowCount;if(n.rowCount=r,n.state.height!==o||n.state.minHeight!==i||n.state.maxHeight!==a)return void n.setState({height:o,minHeight:i,maxHeight:a},e);e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=b(),n._controlled="string"==typeof t.value,n}i(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,a(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return t.style=o({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),l.a.createElement("textarea",o({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentWillReceiveProps=function(){var e=this;this._clearNextFrame(),this._onNextFrameActionId=k(function(){return e._resizeComponent()})},n.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),v(this._uid)},n._clearNextFrame=function(){C(this._onNextFrameActionId)},t}(l.a.Component);w.defaultProps={onChange:_,onHeightChange:_,useCacheForDOMMeasurements:!1},t.a=w},302:function(e,t,n){"use strict";var o=n(9),i=n(303),a=n(17),s=function(e){return{disabled:e.getIn(["compose","is_uploading"])||e.getIn(["compose","media_attachments"]).size>3||e.getIn(["compose","media_attachments"]).some(function(e){return"video"===e.get("type")}),resetFileKey:e.getIn(["compose","resetFileKey"])}},r=function(e){return{onSelectFile:function(t){e(Object(a.Z)(t))}}};t.a=Object(o.connect)(s,r)(i.a)},303:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o,i,a,s,r=n(2),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),f=n(0),m=n.n(f),v=n(23),b=n(5),_=n.n(b),y=n(7),k=n(9),C=n(12),w=n.n(C),M=n(14),x=n.n(M),S=Object(y.f)({upload:{id:"upload_button.label",defaultMessage:"Add media"}}),j=function(){return function(e){return{acceptContentTypes:e.getIn(["media_attachments","accept_content_types"])}}},N={height:null,lineHeight:"27px"},O=(o=Object(k.connect)(j))(i=Object(y.g)((s=a=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleChange=function(e){e.target.files.length>0&&o.props.onSelectFile(e.target.files)},o.handleClick=function(){o.fileElement.click()},o.setRef=function(e){o.fileElement=e},i=n,p()(o,i)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.resetFileKey,o=e.disabled,i=e.acceptContentTypes;return c()("div",{className:"compose-form__upload-button"},void 0,c()(v.a,{icon:"camera",title:t.formatMessage(S.upload),disabled:o,onClick:this.handleClick,className:"compose-form__upload-button-icon",size:18,inverted:!0,style:N}),c()("label",{},void 0,c()("span",{style:{display:"none"}},void 0,t.formatMessage(S.upload)),m.a.createElement("input",{key:n,ref:this.setRef,type:"file",multiple:!1,accept:i.toArray().join(","),onChange:this.handleChange,disabled:o,style:{display:"none"}})))},t}(w.a),a.propTypes={disabled:_.a.bool,onSelectFile:_.a.func.isRequired,style:_.a.object,resetFileKey:_.a.number,acceptContentTypes:x.a.listOf(_.a.string).isRequired,intl:_.a.object.isRequired},i=s))||i)||i},304:function(e,t,n){"use strict";var o=n(9),i=n(305),a=n(17),s=n(7),r=Object(s.f)({marked:{id:"compose_form.spoiler.marked",defaultMessage:"Text is hidden behind warning"},unmarked:{id:"compose_form.spoiler.unmarked",defaultMessage:"Text is not hidden"}}),c=function(e,t){return{label:"CW",title:t.intl.formatMessage(e.getIn(["compose","spoiler"])?r.marked:r.unmarked),active:e.getIn(["compose","spoiler"]),ariaControls:"cw-spoiler-input"}},l=function(e){return{onClick:function(){e(Object(a.I)())}}};t.a=Object(s.g)(Object(o.connect)(c,l)(i.a))},305:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=function(e){function t(){var n,o,i;s()(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(e){e.preventDefault(),o.props.onClick()},i=n,c()(o,i)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.title,o=e.active,a=e.ariaControls;return i()("button",{title:n,"aria-label":n,className:"text-icon-button "+(o?"active":""),"aria-expanded":o,onClick:this.handleClick,"aria-controls":a},void 0,t)},t}(p.a.PureComponent)},306:function(e,t,n){"use strict";var o=n(9),i=n(307),a=n(17),s=n(26),r=n(43),c=function(e){return{isModalOpen:"ACTIONS"===e.get("modal").modalType,value:e.getIn(["compose","privacy"])}},l=function(e){return{onChange:function(t){e(Object(a.J)(t))},isUserTouching:r.c,onModalOpen:function(t){return e(Object(s.d)("ACTIONS",t))},onModalClose:function(){return e(Object(s.c)())}}};t.a=Object(o.connect)(c,l)(i.a)},307:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,i=n(2),a=n.n(i),s=n(1),r=n.n(s),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),h=n.n(p),g=n(7),f=n(23),m=n(97),v=n.n(m),b=n(28),_=n(27),y=n.n(_),k=n(45),C=n.n(k),w=n(10),M=n.n(w),x=Object(g.f)({public_short:{id:"privacy.public.short",defaultMessage:"Public"},public_long:{id:"privacy.public.long",defaultMessage:"Post to public timelines"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Unlisted"},unlisted_long:{id:"privacy.unlisted.long",defaultMessage:"Do not show in public timelines"},private_short:{id:"privacy.private.short",defaultMessage:"Followers-only"},private_long:{id:"privacy.private.long",defaultMessage:"Post to followers only"},direct_short:{id:"privacy.direct.short",defaultMessage:"Direct"},direct_long:{id:"privacy.direct.long",defaultMessage:"Post to mentioned users only"},change_privacy:{id:"privacy.change",defaultMessage:"Adjust status privacy"}}),S=!!C.a.hasSupport&&{passive:!0},j=function(e){function t(){var n,o,i;r()(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.state={mounted:!1},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.handleKeyDown=function(e){var t=o.props.items,n=e.currentTarget.getAttribute("data-index"),i=t.findIndex(function(e){return e.value===n}),a=void 0;switch(e.key){case"Escape":o.props.onClose();break;case"Enter":o.handleClick(e);break;case"ArrowDown":a=o.node.childNodes[i+1],a&&(a.focus(),o.props.onChange(a.getAttribute("data-index")));break;case"ArrowUp":a=o.node.childNodes[i-1],a&&(a.focus(),o.props.onChange(a.getAttribute("data-index")));break;case"Home":a=o.node.firstChild,a&&(a.focus(),o.props.onChange(a.getAttribute("data-index")));break;case"End":a=o.node.lastChild,a&&(a.focus(),o.props.onChange(a.getAttribute("data-index")))}},o.handleClick=function(e){var t=e.currentTarget.getAttribute("data-index");e.preventDefault(),o.props.onClose(),o.props.onChange(t)},o.setRef=function(e){o.node=e},o.setFocusRef=function(e){o.focusedItem=e},i=n,l()(o,i)}return d()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,S),this.focusedItem&&this.focusedItem.focus(),this.setState({mounted:!0})},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,S)},t.prototype.render=function(){var e=this,t=this.state.mounted,n=this.props,o=n.style,i=n.items,s=n.value;return a()(b.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:y()(1,{damping:35,stiffness:400}),scaleX:y()(1,{damping:35,stiffness:400}),scaleY:y()(1,{damping:35,stiffness:400})}},void 0,function(n){var r=n.opacity,c=n.scaleX,l=n.scaleY;return h.a.createElement("div",{className:"privacy-dropdown__dropdown",style:Object.assign({},o,{opacity:r,transform:t?"scale("+c+", "+l+")":null}),role:"listbox",ref:e.setRef},i.map(function(t){return h.a.createElement("div",{role:"option",tabIndex:"0",key:t.value,"data-index":t.value,onKeyDown:e.handleKeyDown,onClick:e.handleClick,className:M()("privacy-dropdown__option",{active:t.value===s}),"aria-selected":t.value===s,ref:t.value===s?e.setFocusRef:null},a()("div",{className:"privacy-dropdown__option__icon"},void 0,a()("i",{className:"fa fa-fw fa-"+t.icon})),a()("div",{className:"privacy-dropdown__option__content"},void 0,a()("strong",{},void 0,t.text),t.meta))}))})},t}(h.a.PureComponent),N=Object(g.g)(o=function(e){function t(){var n,o,i;r()(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.state={open:!1,placement:null},o.handleToggle=function(e){var t=e.target;if(o.props.isUserTouching())o.state.open?o.props.onModalClose():o.props.onModalOpen({actions:o.options.map(function(e){return Object.assign({},e,{active:e.value===o.props.value})}),onClick:o.handleModalActionClick});else{var n=t.getBoundingClientRect(),i=n.top;o.setState({placement:2*i<innerHeight?"bottom":"top"}),o.setState({open:!o.state.open})}},o.handleModalActionClick=function(e){e.preventDefault();var t=o.options[e.currentTarget.getAttribute("data-index")].value;o.props.onModalClose(),o.props.onChange(t)},o.handleKeyDown=function(e){switch(e.key){case"Escape":o.handleClose()}},o.handleClose=function(){o.setState({open:!1})},o.handleChange=function(e){o.props.onChange(e)},i=n,l()(o,i)}return d()(t,e),t.prototype.componentWillMount=function(){var e=this.props.intl.formatMessage;this.options=[{icon:"globe",value:"public",text:e(x.public_short),meta:e(x.public_long)},{icon:"unlock-alt",value:"unlisted",text:e(x.unlisted_short),meta:e(x.unlisted_long)},{icon:"lock",value:"private",text:e(x.private_short),meta:e(x.private_long)},{icon:"envelope",value:"direct",text:e(x.direct_short),meta:e(x.direct_long)}]},t.prototype.render=function(){var e=this.props,t=e.value,n=e.intl,o=this.state,i=o.open,s=o.placement,r=this.options.find(function(e){return e.value===t});return a()("div",{className:M()("privacy-dropdown",{active:i}),onKeyDown:this.handleKeyDown},void 0,a()("div",{className:M()("privacy-dropdown__value",{active:0===this.options.indexOf(r)})},void 0,a()(f.a,{className:"privacy-dropdown__value-icon",icon:r.icon,title:n.formatMessage(x.change_privacy),size:18,expanded:i,active:i,inverted:!0,onClick:this.handleToggle,style:{height:null,lineHeight:"27px"}})),a()(v.a,{show:i,placement:s,target:this},void 0,a()(j,{items:this.options,value:t,onClose:this.handleClose,onChange:this.handleChange})))},t}(h.a.PureComponent))||o},308:function(e,t,n){"use strict";var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(9),g=n(10),f=n.n(g),m=n(23),v=n(17),b=n(28),_=n(27),y=n.n(_),k=n(7),C=Object(k.f)({marked:{id:"compose_form.sensitive.marked",defaultMessage:"Media is marked as sensitive"},unmarked:{id:"compose_form.sensitive.unmarked",defaultMessage:"Media is not marked as sensitive"}}),w=function(e){return{visible:e.getIn(["compose","media_attachments"]).size>0,active:e.getIn(["compose","sensitive"]),disabled:e.getIn(["compose","spoiler"])}},M=function(e){return{onClick:function(){e(Object(v.G)())}}},x=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.active,o=e.disabled,a=e.onClick,s=e.intl;return i()(b.a,{defaultStyle:{scale:.87},style:{scale:y()(t?1:.87,{stiffness:200,damping:3})}},void 0,function(e){var r=e.scale,c=n?"eye-slash":"eye",l=f()("compose-form__sensitive-button",{"compose-form__sensitive-button--visible":t});return i()("div",{className:l,style:{transform:"scale("+r+")"}},void 0,i()(m.a,{className:"compose-form__sensitive-button__icon",title:s.formatMessage(n?C.marked:C.unmarked),icon:c,onClick:a,size:18,active:n,disabled:o,style:{lineHeight:null,height:null},inverted:!0}))})},t}(p.a.PureComponent);t.a=Object(h.connect)(w,M)(Object(k.g)(x))},309:function(e,t,n){"use strict";var o=n(9),i=n(310),a=n(56),s=n(95),r=(n.n(s),n(8)),c=(n.n(r),n(102)),l=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","yum","disappointed","thinking_face","weary","sob","sunglasses","heart","ok_hand"],u=Object(s.createSelector)([function(e){return e.getIn(["settings","frequentlyUsedEmojis"],Object(r.Map)())}],function(e){var t=e.keySeq().sort(function(t,n){return e.get(t)-e.get(n)}).reverse().slice(0,16).toArray();if(t.length<l.length){var n=l.filter(function(e){return!t.includes(e)});t=t.concat(n.slice(0,l.length-t.length))}return t}),d=Object(s.createSelector)([function(e){return e.get("custom_emojis")}],function(e){return e.filter(function(e){return e.get("visible_in_picker")}).sort(function(e,t){var n=e.get("shortcode").toLowerCase(),o=t.get("shortcode").toLowerCase();return n<o?-1:n>o?1:0})}),p=function(e){return{custom_emojis:d(e),skinTone:e.getIn(["settings","skinTone"]),frequentlyUsedEmojis:u(e)}},h=function(e,t){var n=t.onPickEmoji;return{onSkinTone:function(t){e(Object(a.c)(["skinTone"],t))},onPickEmoji:function(t){e(Object(c.b)(t)),n&&n(t)}}};t.a=Object(o.connect)(p,h)(i.a)},310:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var o,i,a,s,r=n(2),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),f=n(0),m=n.n(f),v=n(7),b=n(58),_=n(97),y=n.n(_),k=n(10),C=n.n(k),w=n(45),M=n.n(w),x=n(73),S=Object(v.f)({emoji:{id:"emoji_button.label",defaultMessage:"Insert emoji"},emoji_search:{id:"emoji_button.search",defaultMessage:"Search..."},emoji_not_found:{id:"emoji_button.not_found",defaultMessage:"No emojos!! (╯°□°）╯︵ ┻━┻"},custom:{id:"emoji_button.custom",defaultMessage:"Custom"},recent:{id:"emoji_button.recent",defaultMessage:"Frequently used"},search_results:{id:"emoji_button.search_results",defaultMessage:"Search results"},people:{id:"emoji_button.people",defaultMessage:"People"},nature:{id:"emoji_button.nature",defaultMessage:"Nature"},food:{id:"emoji_button.food",defaultMessage:"Food & Drink"},activity:{id:"emoji_button.activity",defaultMessage:"Activity"},travel:{id:"emoji_button.travel",defaultMessage:"Travel & Places"},objects:{id:"emoji_button.objects",defaultMessage:"Objects"},symbols:{id:"emoji_button.symbols",defaultMessage:"Symbols"},flags:{id:"emoji_button.flags",defaultMessage:"Flags"}}),j=e.env.CDN_HOST||"",N=void 0,O=void 0,D=function(){return j+"/emoji/sheet_10.png"},T=!!M.a.hasSupport&&{passive:!0},I=["recent","custom","people","nature","foods","activity","places","objects","symbols","flags"],P=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(e){o.props.onSelect(1*e.currentTarget.getAttribute("data-index"))},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},i=n,p()(o,i)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){e.active?this.attachListeners():this.removeListeners()},t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.attachListeners=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,T)},t.prototype.removeListeners=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,T)},t.prototype.render=function(){var e=this.props.active;return m.a.createElement("div",{className:"emoji-picker-dropdown__modifiers__menu",style:{display:e?"block":"none"},ref:this.setRef},c()("button",{onClick:this.handleClick,"data-index":1},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:1,backgroundImageFn:D})),c()("button",{onClick:this.handleClick,"data-index":2},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:2,backgroundImageFn:D})),c()("button",{onClick:this.handleClick,"data-index":3},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:3,backgroundImageFn:D})),c()("button",{onClick:this.handleClick,"data-index":4},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:4,backgroundImageFn:D})),c()("button",{onClick:this.handleClick,"data-index":5},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:5,backgroundImageFn:D})),c()("button",{onClick:this.handleClick,"data-index":6},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:6,backgroundImageFn:D})))},t}(m.a.PureComponent),R=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(){o.props.active?o.props.onClose():o.props.onOpen()},o.handleSelect=function(e){o.props.onChange(e),o.props.onClose()},i=n,p()(o,i)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.modifier;return c()("div",{className:"emoji-picker-dropdown__modifiers"},void 0,c()(O,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:n,onClick:this.handleClick,backgroundImageFn:D}),c()(P,{active:t,onSelect:this.handleSelect,onClose:this.props.onClose}))},t}(m.a.PureComponent),F=Object(v.g)((a=i=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.state={modifierOpen:!1,placement:null},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},o.getI18n=function(){var e=o.props.intl;return{search:e.formatMessage(S.emoji_search),notfound:e.formatMessage(S.emoji_not_found),categories:{search:e.formatMessage(S.search_results),recent:e.formatMessage(S.recent),people:e.formatMessage(S.people),nature:e.formatMessage(S.nature),foods:e.formatMessage(S.food),activity:e.formatMessage(S.activity),places:e.formatMessage(S.travel),objects:e.formatMessage(S.objects),symbols:e.formatMessage(S.symbols),flags:e.formatMessage(S.flags),custom:e.formatMessage(S.custom)}}},o.handleClick=function(e){e.native||(e.native=e.colons),o.props.onClose(),o.props.onPick(e)},o.handleModifierOpen=function(){o.setState({modifierOpen:!0})},o.handleModifierClose=function(){o.setState({modifierOpen:!1})},o.handleModifierChange=function(e){o.props.onSkinTone(e)},i=n,p()(o,i)}return g()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,T)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,T)},t.prototype.render=function(){var e=this.props,t=e.loading,n=e.style,o=e.intl,i=e.custom_emojis,a=e.skinTone,s=e.frequentlyUsedEmojis;if(t)return c()("div",{style:{width:299}});var r=o.formatMessage(S.emoji),l=this.state.modifierOpen;return m.a.createElement("div",{className:C()("emoji-picker-dropdown__menu",{selecting:l}),style:n,ref:this.setRef},c()(N,{perLine:8,emojiSize:22,sheetSize:32,custom:Object(x.buildCustomEmojis)(i),color:"",emoji:"",set:"twitter",title:r,i18n:this.getI18n(),onClick:this.handleClick,include:I,recent:s,skin:a,showPreview:!1,backgroundImageFn:D,emojiTooltip:!0}),c()(R,{active:l,modifier:a,onOpen:this.handleModifierOpen,onClose:this.handleModifierClose,onChange:this.handleModifierChange}))},t}(m.a.PureComponent),i.defaultProps={style:{},loading:!0,frequentlyUsedEmojis:[]},o=a))||o,E=Object(v.g)(s=function(e){function t(){var n,o,i;u()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.state={active:!1,loading:!1},o.setRef=function(e){o.dropdown=e},o.onShowDropdown=function(e){var t=e.target;o.setState({active:!0}),N||(o.setState({loading:!0}),Object(b.i)().then(function(e){N=e.Picker,O=e.Emoji,o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})}));var n=t.getBoundingClientRect(),i=n.top;o.setState({placement:2*i<innerHeight?"bottom":"top"})},o.onHideDropdown=function(){o.setState({active:!1})},o.onToggle=function(e){o.state.loading||e.key&&"Enter"!==e.key||(o.state.active?o.onHideDropdown():o.onShowDropdown(e))},o.handleKeyDown=function(e){"Escape"===e.key&&o.onHideDropdown()},o.setTargetRef=function(e){o.target=e},o.findTarget=function(){return o.target},i=n,p()(o,i)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPickEmoji,o=e.onSkinTone,i=e.skinTone,a=e.frequentlyUsedEmojis,s=t.formatMessage(S.emoji),r=this.state,l=r.active,u=r.loading,d=r.placement;return c()("div",{className:"emoji-picker-dropdown",onKeyDown:this.handleKeyDown},void 0,m.a.createElement("div",{ref:this.setTargetRef,className:"emoji-button",title:s,"aria-label":s,"aria-expanded":l,role:"button",onClick:this.onToggle,onKeyDown:this.onToggle,tabIndex:0},c()("img",{className:C()("emojione",{"pulse-loading":l&&u}),alt:"🙂",src:j+"/emoji/1f602.svg"})),c()(y.a,{show:l,placement:d,target:this.findTarget},void 0,c()(F,{custom_emojis:this.props.custom_emojis,loading:u,onClose:this.onHideDropdown,onPick:n,onSkinTone:o,skinTone:i,frequentlyUsedEmojis:a})))},t}(m.a.PureComponent))||s}).call(t,n(35))},311:function(e,t,n){"use strict";var o=n(9),i=n(312),a=function(e){return{mediaIds:e.getIn(["compose","media_attachments"]).map(function(e){return e.get("id")})}};t.a=Object(o.connect)(a)(i.a)},312:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o,i,a=n(2),s=n.n(a),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(14)),f=n.n(g),m=n(313),v=n(12),b=n.n(v),_=n(315),y=(i=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.mediaIds;return s()("div",{className:"compose-form__upload-wrapper"},void 0,s()(m.a,{}),s()("div",{className:"compose-form__uploads-wrapper"},void 0,e.map(function(e){return s()(_.a,{id:e},e)})))},t}(b.a),o.propTypes={mediaIds:f.a.list.isRequired},i)},313:function(e,t,n){"use strict";var o=n(9),i=n(314),a=function(e){return{active:e.getIn(["compose","is_uploading"]),progress:e.getIn(["compose","progress"])}};t.a=Object(o.connect)(a)(i.a)},314:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(28),g=n(27),f=n.n(g),m=n(7),v=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.progress;return t?i()("div",{className:"upload-progress"},void 0,i()("div",{className:"upload-progress__icon"},void 0,i()("i",{className:"fa fa-upload"})),i()("div",{className:"upload-progress__message"},void 0,i()(m.b,{id:"upload_progress.label",defaultMessage:"Uploading..."}),i()("div",{className:"upload-progress__backdrop"},void 0,i()(h.a,{defaultStyle:{width:0},style:{width:f()(n)}},void 0,function(e){var t=e.width;return i()("div",{className:"upload-progress__tracker",style:{width:t+"%"}})})))):null},t}(p.a.PureComponent)},315:function(e,t,n){"use strict";var o=n(9),i=n(316),a=n(17),s=n(26),r=function(e,t){var n=t.id;return{media:e.getIn(["compose","media_attachments"]).find(function(e){return e.get("id")===n})}},c=function(e){return{onUndo:function(t){e(Object(a.X)(t))},onDescriptionChange:function(t,n){e(Object(a.L)(t,{description:n}))},onOpenFocalPoint:function(t){e(Object(s.d)("FOCAL_POINT",{id:t}))}}};t.a=Object(o.connect)(r,c)(i.a)},316:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,i,a,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),f=(n.n(g),n(14)),m=n.n(f),v=n(5),b=n.n(v),_=n(28),y=n(27),k=n.n(y),C=n(12),w=n.n(C),M=n(7),x=n(10),S=n.n(x),j=Object(M.f)({description:{id:"upload_form.description",defaultMessage:"Describe for the visually impaired"}}),N=Object(M.g)((a=i=function(e){function t(){var n,o,i;l()(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.state={hovered:!1,focused:!1,dirtyDescription:null},o.handleUndoClick=function(){o.props.onUndo(o.props.media.get("id"))},o.handleFocalPointClick=function(){o.props.onOpenFocalPoint(o.props.media.get("id"))},o.handleInputChange=function(e){o.setState({dirtyDescription:e.target.value})},o.handleMouseEnter=function(){o.setState({hovered:!0})},o.handleMouseLeave=function(){o.setState({hovered:!1})},o.handleInputFocus=function(){o.setState({focused:!0})},o.handleInputBlur=function(){var e=o.state.dirtyDescription;o.setState({focused:!1,dirtyDescription:null}),null!==e&&o.props.onDescriptionChange(o.props.media.get("id"),e)},i=n,d()(o,i)}return h()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.intl,o=t.media,i=this.state.hovered||this.state.focused,a=this.state.dirtyDescription||""!==this.state.dirtyDescription&&o.get("description")||"",s=o.getIn(["meta","focus","x"]),c=o.getIn(["meta","focus","y"]),l=100*(s/2+.5),u=100*(c/-2+.5);return r()("div",{className:"compose-form__upload",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r()(_.a,{defaultStyle:{scale:.8},style:{scale:k()(1,{stiffness:180,damping:12})}},void 0,function(t){var s=t.scale;return r()("div",{className:"compose-form__upload-thumbnail",style:{transform:"scale("+s+")",backgroundImage:"url("+o.get("preview_url")+")",backgroundPosition:l+"% "+u+"%"}},void 0,r()("div",{className:S()("compose-form__upload__actions",{active:i})},void 0,r()("button",{className:"icon-button",onClick:e.handleUndoClick},void 0,r()("i",{className:"fa fa-times"})," ",r()(M.b,{id:"upload_form.undo",defaultMessage:"Delete"})),"image"===o.get("type")&&r()("button",{className:"icon-button",onClick:e.handleFocalPointClick},void 0,r()("i",{className:"fa fa-crosshairs"})," ",r()(M.b,{id:"upload_form.focus",defaultMessage:"Crop"}))),r()("div",{className:S()("compose-form__upload-description",{active:i})},void 0,r()("label",{},void 0,r()("span",{style:{display:"none"}},void 0,n.formatMessage(j.description)),r()("input",{placeholder:n.formatMessage(j.description),type:"text",value:a,maxLength:420,onFocus:e.handleInputFocus,onChange:e.handleInputChange,onBlur:e.handleInputBlur}))))}))},t}(w.a),i.propTypes={media:m.a.map.isRequired,intl:b.a.object.isRequired,onUndo:b.a.func.isRequired,onDescriptionChange:b.a.func.isRequired,onOpenFocalPoint:b.a.func.isRequired},o=a))||o},317:function(e,t,n){"use strict";var o=n(2),i=n.n(o),a=n(0),s=(n.n(a),n(9)),r=n(318),c=n(7),l=n(13),u=/(?:^|[^\/\)\w])#(\w*[a-zA-Z·]\w*)/i,d=function(e){return{needsLockWarning:"private"===e.getIn(["compose","privacy"])&&!e.getIn(["accounts",l.i,"locked"]),hashtagWarning:"public"!==e.getIn(["compose","privacy"])&&u.test(e.getIn(["compose","text"])),directMessageWarning:"direct"===e.getIn(["compose","privacy"])}},p=function(e){var t=e.needsLockWarning,n=e.hashtagWarning,o=e.directMessageWarning;if(t)return i()(r.a,{message:i()(c.b,{id:"compose_form.lock_disclaimer",defaultMessage:"Your account is not {locked}. Anyone can follow you to view your follower-only posts.",values:{locked:i()("a",{href:"/user-settings"},void 0,i()(c.b,{id:"compose_form.lock_disclaimer.lock",defaultMessage:"locked"}))}})});if(n)return i()(r.a,{message:i()(c.b,{id:"compose_form.hashtag_warning",defaultMessage:"This toot won't be listed under any hashtag as it is unlisted. Only public toots can be searched by hashtag."})});if(o){var a=i()("span",{},void 0,i()(c.b,{id:"compose_form.direct_message_warning",defaultMessage:"This toot will only be sent to all the mentioned users."})," ",i()("a",{href:"/terms",target:"_blank"},void 0,i()(c.b,{id:"compose_form.direct_message_warning_learn_more",defaultMessage:"Learn more"})));return i()(r.a,{message:a})}return null};t.a=Object(s.connect)(d)(p)},318:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(2),i=n.n(o),a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(28),g=n(27),f=n.n(g),m=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props.message;return i()(h.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:f()(1,{damping:35,stiffness:400}),scaleX:f()(1,{damping:35,stiffness:400}),scaleY:f()(1,{damping:35,stiffness:400})}},void 0,function(t){var n=t.opacity,o=t.scaleX,a=t.scaleY;return i()("div",{className:"compose-form__warning",style:{opacity:n,transform:"scale("+o+", "+a+")"}},void 0,e)})},t}(p.a.PureComponent)},834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return E});var o,i,a=n(1),s=n.n(a),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(2),p=n.n(d),h=n(0),g=n.n(h),f=n(9),m=n(7),v=n(164),b=n.n(v),_=n(10),y=n.n(_),k=n(287),C=n(293),w=n(895),M=n(886),x=n(155),S=n(8),j=(n.n(S),n(13)),N=function(){},O=Object(m.f)({home_title:{id:"column.home",defaultMessage:"Home"},notifications_title:{id:"column.notifications",defaultMessage:"Notifications"},local_title:{id:"column.community",defaultMessage:"Local timeline"},federated_title:{id:"column.public",defaultMessage:"Federated timeline"}}),D=function(e){var t=e.acct,n=e.domain;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-one"},void 0,p()("div",{className:"onboarding-modal__page-one__lead"},void 0,p()("h1",{},void 0,p()(m.b,{id:"onboarding.page_one.welcome",defaultMessage:"Welcome to Mastodon!"})),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_one.federation",defaultMessage:"Mastodon is a network of independent servers joining up to make one larger social network. We call these servers instances."}))),p()("div",{className:"onboarding-modal__page-one__extra"},void 0,p()("div",{className:"display-case"},void 0,p()("div",{className:"display-case__label"},void 0,p()(m.b,{id:"onboarding.page_one.full_handle",defaultMessage:"Your full handle"})),p()("div",{className:"display-case__case"},void 0,"@",t,"@",n)),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_one.handle_hint",defaultMessage:"This is what you would tell your friends to search for."}))))},T=function(e){var t=e.myAccount;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-two"},void 0,p()("div",{className:"figure non-interactive"},void 0,p()("div",{className:"pseudo-drawer"},void 0,p()(M.a,{account:t}),p()(C.a,{text:"Awoo! #introductions",suggestions:Object(S.List)(),mentionedDomains:[],spoiler:!1,onChange:N,onSubmit:N,onPaste:N,onPickEmoji:N,onChangeSpoilerText:N,onClearSuggestions:N,onFetchSuggestions:N,onSuggestionSelected:N,showSearch:!0}))),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_two.compose",defaultMessage:"Write posts from the compose column. You can upload images, change privacy settings, and add content warnings with the icons below."})))},I=function(e){var t=e.myAccount;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-three"},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(w.a,{value:"",onChange:N,onSubmit:N,onClear:N,onShow:N}),p()("div",{className:"pseudo-drawer"},void 0,p()(M.a,{account:t}))),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_three.search",defaultMessage:"Use the search bar to find people and look at hashtags, such as {illustration} and {introductions}. To look for a person who is not on this instance, use their full handle.",values:{illustration:p()(k.a,{to:"/timelines/tag/illustration",href:"/tags/illustration"},void 0,"#illustration"),introductions:p()(k.a,{to:"/timelines/tag/introductions",href:"/tags/introductions"},void 0,"#introductions")}})),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_three.profile",defaultMessage:"Edit your profile to change your avatar, bio, and display name. There, you will also find other preferences."})))},P=function(e){var t=e.domain,n=e.intl;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-four"},void 0,p()("div",{className:"onboarding-modal__page-four__columns"},void 0,p()("div",{className:"row"},void 0,p()("div",{},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(x.a,{icon:"home",type:n.formatMessage(O.home_title)})),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_four.home",defaultMessage:"The home timeline shows posts from people you follow."}))),p()("div",{},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(x.a,{icon:"bell",type:n.formatMessage(O.notifications_title)})),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_four.notifications",defaultMessage:"The notifications column shows when someone interacts with you."})))),p()("div",{className:"row"},void 0,p()("div",{},void 0,p()("div",{className:"figure non-interactive",style:{marginBottom:0}},void 0,p()(x.a,{icon:"users",type:n.formatMessage(O.local_title)}))),p()("div",{},void 0,p()("div",{className:"figure non-interactive",style:{marginBottom:0}},void 0,p()(x.a,{icon:"globe",type:n.formatMessage(O.federated_title)})))),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_five.public_timelines",defaultMessage:"The local timeline shows public posts from everyone on {domain}. The federated timeline shows public posts from everyone who people on {domain} follow. These are the Public Timelines, a great way to discover new people.",values:{domain:t}}))))},R=function(e){var t=e.admin,n=e.domain,o="";return t&&(o=p()("p",{},void 0,p()(m.b,{id:"onboarding.page_six.admin",defaultMessage:"Your instance's admin is {admin}.",values:{admin:p()(k.a,{href:t.get("url"),to:"/accounts/"+t.get("id")},void 0,"@",t.get("acct"))}}),p()("br",{}),p()(m.b,{id:"onboarding.page_six.read_guidelines",defaultMessage:"Please read {domain}'s {guidelines}!",values:{domain:n,guidelines:p()("a",{href:"/about/more",target:"_blank"},void 0,p()(m.b,{id:"onboarding.page_six.guidelines",defaultMessage:"community guidelines"}))}}))),p()("div",{className:"onboarding-modal__page onboarding-modal__page-six"},void 0,p()("h1",{},void 0,p()(m.b,{id:"onboarding.page_six.almost_done",defaultMessage:"Almost done..."})),o,p()("p",{},void 0,p()(m.b,{id:"onboarding.page_six.github",defaultMessage:"Mastodon is free open-source software. You can report bugs, request features, or contribute to the code on {github}.",values:{github:p()("a",{href:"https://github.com/tootsuite/mastodon",target:"_blank",rel:"noopener"},void 0,"GitHub")}})),p()("p",{},void 0,p()(m.b,{id:"onboarding.page_six.apps_available",defaultMessage:"There are {apps} available for iOS, Android and other platforms.",values:{apps:p()("a",{href:"https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/Apps.md",target:"_blank",rel:"noopener"},void 0,p()(m.b,{id:"onboarding.page_six.various_app",defaultMessage:"mobile apps"}))}})),p()("p",{},void 0,p()("em",{},void 0,p()(m.b,{id:"onboarding.page_six.appetoot",defaultMessage:"Bon Appetoot!"}))))},F=function(e){return{myAccount:e.getIn(["accounts",j.i]),admin:e.getIn(["accounts",e.getIn(["meta","admin"])]),domain:e.getIn(["meta","domain"])}},E=(o=Object(f.connect)(F))(i=Object(m.g)(i=function(e){function t(){var n,o,i;s()(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.state={currentIndex:0},o.handleSkip=function(e){e.preventDefault(),o.props.onClose()},o.handleDot=function(e){var t=Number(e.currentTarget.getAttribute("data-index"));e.preventDefault(),o.setState({currentIndex:t})},o.handlePrev=function(){o.setState(function(e){var t=e.currentIndex;return{currentIndex:Math.max(0,t-1)}})},o.handleNext=function(){var e=o,t=e.pages;o.setState(function(e){var n=e.currentIndex;return{currentIndex:Math.min(n+1,t.length-1)}})},o.handleSwipe=function(e){o.setState({currentIndex:e})},o.handleKeyUp=function(e){switch(e.key){case"ArrowLeft":o.handlePrev();break;case"ArrowRight":o.handleNext()}},o.handleClose=function(){o.props.onClose()},i=n,c()(o,i)}return u()(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.myAccount,n=e.admin,o=e.domain,i=e.intl;this.pages=[p()(D,{acct:t.get("acct"),domain:o}),p()(T,{myAccount:t}),p()(I,{myAccount:t}),p()(P,{domain:o,intl:i}),p()(R,{admin:n,domain:o})]},t.prototype.componentDidMount=function(){window.addEventListener("keyup",this.handleKeyUp)},t.prototype.componentWillUnmount=function(){window.addEventListener("keyup",this.handleKeyUp)},t.prototype.render=function(){var e=this,t=this.pages,n=this.state.currentIndex,o=n<t.length-1,i=o?p()("button",{onClick:this.handleNext,className:"onboarding-modal__nav onboarding-modal__next shake-bottom"},void 0,p()(m.b,{id:"onboarding.next",defaultMessage:"Next"})," ",p()("i",{className:"fa fa-fw fa-chevron-right"})):p()("button",{onClick:this.handleClose,className:"onboarding-modal__nav onboarding-modal__done shake-bottom"},void 0,p()(m.b,{id:"onboarding.done",defaultMessage:"Done"})," ",p()("i",{className:"fa fa-fw fa-check"}));return p()("div",{className:"modal-root__modal onboarding-modal"},void 0,p()(b.a,{index:n,onChangeIndex:this.handleSwipe,className:"onboarding-modal__pager"},void 0,t.map(function(e,t){var o=y()("onboarding-modal__page__wrapper","onboarding-modal__page__wrapper-"+t,{"onboarding-modal__page__wrapper--active":t===n});return p()("div",{className:o},t,e)})),p()("div",{className:"onboarding-modal__paginator"},void 0,p()("div",{},void 0,p()("button",{onClick:this.handleSkip,className:"onboarding-modal__nav onboarding-modal__skip"},void 0,p()(m.b,{id:"onboarding.skip",defaultMessage:"Skip"}))),p()("div",{className:"onboarding-modal__dots"},void 0,t.map(function(t,o){var i=y()("onboarding-modal__dot",{active:o===n});return p()("div",{role:"button",tabIndex:"0","data-index":o,onClick:e.handleDot,className:i},"dot-"+o)})),p()("div",{},void 0,i)))},t}(g.a.PureComponent))||i)||i},886:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var o,i,a=n(2),s=n.n(a),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(5)),f=n.n(g),m=n(14),v=n.n(m),b=n(887),_=n(54),y=n(287),k=n(23),C=(n(7),n(12)),w=n.n(C),M=(i=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){return s()("div",{className:"navigation-bar"},void 0,s()(y.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,s()("span",{style:{display:"none"}},void 0,this.props.account.get("acct")),s()(_.a,{account:this.props.account,size:40})),s()("div",{className:"navigation-bar__profile"},void 0,s()(y.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,s()("strong",{className:"navigation-bar__profile-account"},void 0,"@",this.props.account.get("acct")))),s()("div",{className:"navigation-bar__actions"},void 0,s()(k.a,{className:"close",title:"",icon:"close",onClick:this.props.onClose}),s()(b.a,{account:this.props.account})))},t}(w.a),o.propTypes={account:v.a.map.isRequired,onClose:f.a.func},i)},887:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o,i=n(2),a=n.n(i),s=n(1),r=n.n(s),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),h=n.n(p),g=n(291),f=n(7),m=Object(f.f)({edit_profile:{id:"account.edit_profile",defaultMessage:"Edit profile"},pins:{id:"navigation_bar.pins",defaultMessage:"Pinned toots"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},follow_requests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},favourites:{id:"navigation_bar.favourites",defaultMessage:"Favourites"},lists:{id:"navigation_bar.lists",defaultMessage:"Lists"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domain_blocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"}}),v=Object(f.g)(o=function(e){function t(){return r()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.intl,t=[];return t.push({text:e.formatMessage(m.preferences),href:"/user-settings"}),t.push({text:e.formatMessage(m.pins),to:"/pinned"}),t.push(null),t.push({text:e.formatMessage(m.follow_requests),to:"/follow_requests"}),t.push({text:e.formatMessage(m.favourites),to:"/favourites"}),t.push({text:e.formatMessage(m.lists),to:"/lists"}),t.push(null),t.push({text:e.formatMessage(m.mutes),to:"/mutes"}),t.push({text:e.formatMessage(m.blocks),to:"/blocks"}),t.push({text:e.formatMessage(m.domain_blocks),to:"/domain_blocks"}),a()("div",{className:"compose__action-bar"},void 0,a()("div",{className:"compose__action-bar-dropdown"},void 0,a()(g.a,{items:t,icon:"ellipsis-v",size:24,direction:"right"})))},t}(h.a.PureComponent))||o},895:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var o,i=n(2),a=n.n(i),s=n(1),r=n.n(s),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),h=n.n(p),g=n(7),f=n(97),m=n.n(f),v=n(28),b=n(27),_=n.n(b),y=n(13),k=Object(g.f)({placeholder:{id:"search.placeholder",defaultMessage:"Search"}}),C=function(e){function t(){return r()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.style,t=y.k?a()(g.b,{id:"search_popout.tips.full_text",defaultMessage:"Simple text returns statuses you have written, favourited, boosted, or have been mentioned in, as well as matching usernames, display names, and hashtags."}):a()(g.b,{id:"search_popout.tips.text",defaultMessage:"Simple text returns matching display names, usernames and hashtags"});return a()("div",{style:Object.assign({},e,{position:"absolute",width:315})},void 0,a()(v.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:_()(1,{damping:35,stiffness:400}),scaleX:_()(1,{damping:35,stiffness:400}),scaleY:_()(1,{damping:35,stiffness:400})}},void 0,function(e){var n=e.opacity,o=e.scaleX,i=e.scaleY;return a()("div",{className:"search-popout",style:{opacity:n,transform:"scale("+o+", "+i+")"}},void 0,a()("h4",{},void 0,a()(g.b,{id:"search_popout.search_format",defaultMessage:"Advanced search format"})),a()("ul",{},void 0,a()("li",{},void 0,a()("em",{},void 0,"#example")," ",a()(g.b,{id:"search_popout.tips.hashtag",defaultMessage:"hashtag"})),a()("li",{},void 0,a()("em",{},void 0,"@username@domain")," ",a()(g.b,{id:"search_popout.tips.user",defaultMessage:"user"})),a()("li",{},void 0,a()("em",{},void 0,"URL")," ",a()(g.b,{id:"search_popout.tips.user",defaultMessage:"user"})),a()("li",{},void 0,a()("em",{},void 0,"URL")," ",a()(g.b,{id:"search_popout.tips.status",defaultMessage:"status"}))),t)}))},t}(h.a.PureComponent),w=Object(g.g)(o=function(e){function t(){var n,o,i;r()(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.state={expanded:!1},o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleClear=function(e){e.preventDefault(),(o.props.value.length>0||o.props.submitted)&&o.props.onClear()},o.handleKeyDown=function(e){"Enter"===e.key?(e.preventDefault(),o.props.onSubmit()):"Escape"===e.key&&document.querySelector(".ui").parentElement.focus()},o.handleFocus=function(){o.setState({expanded:!0}),o.props.onShow()},o.handleBlur=function(){o.setState({expanded:!1})},i=n,l()(o,i)}return d()(t,e),t.prototype.noop=function(){},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.value,o=e.submitted,i=this.state.expanded,s=n.length>0||o;return a()("div",{className:"search"},void 0,a()("label",{},void 0,a()("span",{style:{display:"none"}},void 0,t.formatMessage(k.placeholder)),a()("input",{className:"search__input",type:"text",placeholder:t.formatMessage(k.placeholder),value:n,onChange:this.handleChange,onKeyUp:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur})),a()("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,a()("i",{className:"fa fa-search "+(s?"":"active")}),a()("i",{"aria-label":t.formatMessage(k.placeholder),className:"fa fa-times-circle "+(s?"active":"")})),a()(m.a,{show:i&&!s,placement:"bottom",target:this},void 0,a()(C,{})))},t}(h.a.PureComponent))||o}});
//# sourceMappingURL=onboarding_modal.js.map