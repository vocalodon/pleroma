webpackJsonp([2],{277:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(0),a=(n.n(r),n(9)),s=n(158),u=n(67),c=n(17),l=n(68),d=n(22),f=n(69),p=n(90),h=n(157),g=n(26),m=n(7),v=n(13),y=n(33),b=Object(m.f)({deleteConfirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"},deleteMessage:{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this status?"},redraftConfirm:{id:"confirmations.redraft.confirm",defaultMessage:"Delete & redraft"},redraftMessage:{id:"confirmations.redraft.message",defaultMessage:"Are you sure you want to delete this status and re-draft it? You will lose all replies, boosts and favourites to it."},blockConfirm:{id:"confirmations.block.confirm",defaultMessage:"Block"}}),_=function(){var e=Object(u.e)();return function(t,n){return{status:e(t,n.id)}}},w=function(e,t){var n=t.intl;return{onReply:function(t,n){e(Object(c.T)(t,n))},onModalReblog:function(t){e(Object(l.o)(t))},onReblog:function(t,n){t.get("reblogged")?e(Object(l.r)(t)):n.shiftKey||!v.b?this.onModalReblog(t):e(Object(g.d)("BOOST",{status:t,onReblog:this.onModalReblog}))},onFavourite:function(t){e(t.get("favourited")?Object(l.p)(t):Object(l.k)(t))},onPin:function(t){e(t.get("pinned")?Object(l.q)(t):Object(l.n)(t))},onEmbed:function(t){e(Object(g.d)("EMBED",{url:t.get("url"),onError:function(t){return e(Object(y.e)(t))}}))},onDelete:function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e(v.d?Object(g.d)("CONFIRM",{message:n.formatMessage(o?b.redraftMessage:b.deleteMessage),confirm:n.formatMessage(o?b.redraftConfirm:b.deleteConfirm),onConfirm:function(){return e(Object(f.g)(t.get("id"),o))}}):Object(f.g)(t.get("id"),o))},onDirect:function(t,n){e(Object(c.N)(t,n))},onMention:function(t,n){e(Object(c.R)(t,n))},onOpenMedia:function(t,n){e(Object(g.d)("MEDIA",{media:t,index:n}))},onOpenVideo:function(t,n){e(Object(g.d)("VIDEO",{media:t,time:n}))},onBlock:function(t){e(Object(g.d)("CONFIRM",{message:i()(m.b,{id:"confirmations.block.message",defaultMessage:"Are you sure you want to block {name}?",values:{name:i()("strong",{},void 0,"@",t.get("acct"))}}),confirm:n.formatMessage(b.blockConfirm),onConfirm:function(){return e(Object(d.q)(t.get("id")))}}))},onReport:function(t){e(Object(h.k)(t.get("account"),t))},onMute:function(t){e(Object(p.g)(t))},onMuteConversation:function(t){e(t.get("muted")?Object(f.l)(t.get("id")):Object(f.j)(t.get("id")))},onToggleHidden:function(t){e(t.get("hidden")?Object(f.k)(t.get("id")):Object(f.i)(t.get("id")))}}};t.a=Object(m.g)(Object(a.connect)(_,w)(s.a))},293:function(e,t,n){"use strict";n.d(t,"a",function(){return z});var o,i,r,a=n(2),s=n.n(a),u=n(1),c=n.n(u),l=n(3),d=n.n(l),f=n(4),p=n.n(f),h=n(0),g=n.n(h),m=n(294),v=n(100),y=n(14),b=n.n(y),_=n(5),w=n.n(_),j=n(295),k=n(297),O=n(302),M=n(7),C=n(304),x=n(306),S=n(308),N=n(309),T=n(311),P=n(317),E=n(43),R=n(12),D=n.n(R),I=n(99),F=(n.n(I),n(13)),q="><                　\u2028\u2029\t\n\v\f\r",A=Object(M.f)({placeholder:{id:"compose_form.placeholder",defaultMessage:"What is on your mind?"},spoiler_placeholder:{id:"compose_form.spoiler_placeholder",defaultMessage:"Write your warning here"},publish:{id:"compose_form.publish",defaultMessage:"Toot"},publishLoud:{id:"compose_form.publish_loud",defaultMessage:"{publish}!"}}),z=Object(M.g)((r=i=function(e){function t(){var n,o,i;c()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=d()(this,e.call.apply(e,[this].concat(a))),o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleKeyDown=function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&o.handleSubmit()},o.handleSubmit=function(){o.props.text!==o.autosuggestTextarea.textarea.value&&o.props.onChange(o.autosuggestTextarea.textarea.value);var e=o.props,t=e.is_submitting,n=e.is_uploading,i=e.anyMedia,r=[o.props.spoiler_text,o.props.text].join("");t||n||Object(I.length)(r)>F.h||0!==r.length&&0===r.trim().length&&!i||o.props.onSubmit()},o.onSuggestionsClearRequested=function(){o.props.onClearSuggestions()},o.onSuggestionsFetchRequested=function(e){o.props.onFetchSuggestions(e)},o.onSuggestionSelected=function(e,t,n){o.props.onSuggestionSelected(e,t,n)},o.handleChangeSpoilerText=function(e){o.props.onChangeSpoilerText(e.target.value)},o.setAutosuggestTextarea=function(e){o.autosuggestTextarea=e},o.setSpoilerText=function(e){o.spoilerText=e},o.handleEmojiPick=function(e){var t=o.props.text,n=o.autosuggestTextarea.textarea.selectionStart,i=e.custom&&n>0&&!q.includes(t[n-1]);o.props.onPickEmoji(n,e,i)},i=n,d()(o,i)}return p()(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.focusDate!==e.focusDate){var t=void 0,n=void 0;this.props.preselectDate!==e.preselectDate?(t=this.props.text.length,n=this.props.text.search(/\s/)+1):"number"==typeof this.props.caretPosition?(n=this.props.caretPosition,t=this.props.caretPosition):(t=this.props.text.length,n=t),this.autosuggestTextarea.textarea.setSelectionRange(n,t),this.autosuggestTextarea.textarea.focus()}else e.is_submitting&&!this.props.is_submitting?this.autosuggestTextarea.textarea.focus():this.props.spoiler!==e.spoiler&&(this.props.spoiler?this.spoilerText.focus():this.autosuggestTextarea.textarea.focus())},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPaste,o=e.showSearch,i=e.anyMedia,r=this.props.is_submitting,a=[this.props.spoiler_text,this.props.text].join(""),u=r||this.props.is_uploading||Object(I.length)(a)>F.h||0!==a.length&&0===a.trim().length&&!i,c="";return c="private"===this.props.privacy||"direct"===this.props.privacy?s()("span",{className:"compose-form__publish-private"},void 0,s()("i",{className:"fa fa-lock"})," ",t.formatMessage(A.publish)):"unlisted"!==this.props.privacy?t.formatMessage(A.publishLoud,{publish:t.formatMessage(A.publish)}):t.formatMessage(A.publish),s()("div",{className:"compose-form"},void 0,s()(P.a,{}),s()(j.a,{}),s()("div",{className:"spoiler-input "+(this.props.spoiler?"spoiler-input--visible":"")},void 0,s()("label",{},void 0,s()("span",{style:{display:"none"}},void 0,t.formatMessage(A.spoiler_placeholder)),g.a.createElement("input",{placeholder:t.formatMessage(A.spoiler_placeholder),value:this.props.spoiler_text,onChange:this.handleChangeSpoilerText,onKeyDown:this.handleKeyDown,type:"text",className:"spoiler-input__input",id:"cw-spoiler-input",ref:this.setSpoilerText}))),s()("div",{className:"compose-form__autosuggest-wrapper"},void 0,g.a.createElement(k.a,{ref:this.setAutosuggestTextarea,placeholder:t.formatMessage(A.placeholder),disabled:r,value:this.props.text,onChange:this.handleChange,suggestions:this.props.suggestions,onKeyDown:this.handleKeyDown,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,onPaste:n,autoFocus:!o&&!Object(E.b)(window.innerWidth)}),s()(N.a,{onPickEmoji:this.handleEmojiPick})),s()("div",{className:"compose-form__modifiers"},void 0,s()(T.a,{})),s()("div",{className:"compose-form__buttons-wrapper"},void 0,s()("div",{className:"compose-form__buttons"},void 0,s()(O.a,{}),s()(x.a,{}),s()(S.a,{}),s()(C.a,{})),s()("div",{className:"character-counter__wrapper"},void 0,s()(m.a,{max:F.h,text:a}))),s()("div",{className:"compose-form__publish"},void 0,s()("div",{className:"compose-form__publish-button-wrapper"},void 0,s()(v.a,{text:c,onClick:this.handleSubmit,disabled:u,block:!0}))))},t}(D.a),i.propTypes={intl:w.a.object.isRequired,text:w.a.string.isRequired,suggestion_token:w.a.string,suggestions:b.a.list,spoiler:w.a.bool,privacy:w.a.string,spoiler_text:w.a.string,focusDate:w.a.instanceOf(Date),caretPosition:w.a.number,preselectDate:w.a.instanceOf(Date),is_submitting:w.a.bool,is_uploading:w.a.bool,onChange:w.a.func.isRequired,onSubmit:w.a.func.isRequired,onClearSuggestions:w.a.func.isRequired,onFetchSuggestions:w.a.func.isRequired,onSuggestionSelected:w.a.func.isRequired,onChangeSpoilerText:w.a.func.isRequired,onPaste:w.a.func.isRequired,onPickEmoji:w.a.func.isRequired,showSearch:w.a.bool,anyMedia:w.a.bool},i.defaultProps={showSearch:!1},o=r))||o},294:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=n(99),h=(n.n(p),function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.checkRemainingText=function(e){return e<0?i()("span",{className:"character-counter character-counter--over"},void 0,e):i()("span",{className:"character-counter"},void 0,e)},t.prototype.render=function(){var e=this.props.max-Object(p.length)(this.props.text);return this.checkRemainingText(e)},t}(f.a.PureComponent))},295:function(e,t,n){"use strict";var o=n(9),i=n(17),r=n(67),a=n(296),s=function(){var e=Object(r.e)();return function(t){return{status:e(t,t.getIn(["compose","in_reply_to"]))}}},u=function(e){return{onCancel:function(){e(Object(i.E)())}}};t.a=Object(o.connect)(s,u)(a.a)},296:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var o,i,r,a=n(2),s=n.n(a),u=n(1),c=n.n(u),l=n(3),d=n.n(l),f=n(4),p=n.n(f),h=n(0),g=(n.n(h),n(14)),m=n.n(g),v=n(5),y=n.n(v),b=n(54),_=n(23),w=n(53),j=n(7),k=n(12),O=n.n(k),M=n(98),C=Object(j.f)({cancel:{id:"reply_indicator.cancel",defaultMessage:"Cancel"}}),x=Object(j.g)((r=i=function(e){function t(){var n,o,i;c()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=d()(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(){o.props.onCancel()},o.handleAccountClick=function(e){0===e.button&&(e.preventDefault(),o.context.router.history.push("/accounts/"+o.props.status.getIn(["account","id"])))},i=n,d()(o,i)}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.intl;if(!t)return null;var o={__html:t.get("contentHtml")},i={direction:Object(M.a)(t.get("search_index"))?"rtl":"ltr"};return s()("div",{className:"reply-indicator"},void 0,s()("div",{className:"reply-indicator__header"},void 0,s()("div",{className:"reply-indicator__cancel"},void 0,s()(_.a,{title:n.formatMessage(C.cancel),icon:"times",onClick:this.handleClick,inverted:!0})),s()("a",{href:t.getIn(["account","url"]),onClick:this.handleAccountClick,className:"reply-indicator__display-name"},void 0,s()("div",{className:"reply-indicator__display-avatar"},void 0,s()(b.a,{account:t.get("account"),size:24})),s()(w.a,{account:t.get("account")}))),s()("div",{className:"reply-indicator__content",style:i,dangerouslySetInnerHTML:o}))},t}(O.a),i.contextTypes={router:y.a.object},i.propTypes={status:m.a.map,onCancel:y.a.func.isRequired,intl:y.a.object.isRequired},o=r))||o},297:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,i,r=n(2),a=n.n(r),s=n(29),u=n.n(s),c=n(1),l=n.n(c),d=n(3),f=n.n(d),p=n(4),h=n.n(p),g=n(0),m=(n.n(g),n(298)),v=n(300),y=n(14),b=n.n(y),_=n(5),w=n.n(_),j=n(98),k=n(12),O=n.n(k),M=n(301),C=n(10),x=n.n(C),S=function(e,t){var n=void 0,o=e.slice(0,t).search(/\S+$/),i=e.slice(t).search(/\s/);return!(n=i<0?e.slice(o):e.slice(o,i+t))||n.trim().length<3||-1===["@",":","#"].indexOf(n[0])?[null,null]:(n=n.trim().toLowerCase(),n.length>0?[o+1,n]:[null,null])},N=(i=o=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,s=Array(r),c=0;c<r;c++)s[c]=arguments[c];return n=o=f()(this,e.call.apply(e,[this].concat(s))),o.state={suggestionsHidden:!1,selectedSuggestion:0,lastToken:null,tokenStart:0},o.onChange=function(e){var t=S(e.target.value,e.target.selectionStart),n=t[0],i=t[1];null!==i&&o.state.lastToken!==i?(o.setState({lastToken:i,selectedSuggestion:0,tokenStart:n}),o.props.onSuggestionsFetchRequested(i)):null===i&&(o.setState({lastToken:null}),o.props.onSuggestionsClearRequested()),o.props.onChange(e)},o.onKeyDown=function(e){var t=o.props,n=t.suggestions,i=t.disabled,r=o.state,a=r.selectedSuggestion,s=r.suggestionsHidden;if(i)return void e.preventDefault();if(229!==e.which&&!e.isComposing){switch(e.key){case"Escape":0===n.size||s?document.querySelector(".ui").parentElement.focus():(e.preventDefault(),o.setState({suggestionsHidden:!0}));break;case"ArrowDown":n.size>0&&!s&&(e.preventDefault(),o.setState({selectedSuggestion:Math.min(a+1,n.size-1)}));break;case"ArrowUp":n.size>0&&!s&&(e.preventDefault(),o.setState({selectedSuggestion:Math.max(a-1,0)}));break;case"Enter":case"Tab":null!==o.state.lastToken&&n.size>0&&!s&&(e.preventDefault(),e.stopPropagation(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,n.get(a)))}!e.defaultPrevented&&o.props.onKeyDown&&o.props.onKeyDown(e)}},o.onBlur=function(){o.setState({suggestionsHidden:!0})},o.onSuggestionClick=function(e){var t=o.props.suggestions.get(e.currentTarget.getAttribute("data-index"));e.preventDefault(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,t),o.textarea.focus()},o.setTextarea=function(e){o.textarea=e},o.onPaste=function(e){e.clipboardData&&1===e.clipboardData.files.length&&(o.props.onPaste(e.clipboardData.files),e.preventDefault())},o.renderSuggestion=function(e,t){var n=o.state.selectedSuggestion,i=void 0,r=void 0;return"object"===(void 0===e?"undefined":u()(e))?(i=a()(v.a,{emoji:e}),r=e.id):"#"===e[0]?(i=e,r=e):(i=a()(m.a,{id:e}),r=e),a()("div",{role:"button",tabIndex:"0","data-index":t,className:x()("autosuggest-textarea__suggestions__item",{selected:t===n}),onMouseDown:o.onSuggestionClick},r,i)},i=n,f()(o,i)}return h()(t,e),t.prototype.componentWillReceiveProps=function(e){e.suggestions!==this.props.suggestions&&e.suggestions.size>0&&this.state.suggestionsHidden&&this.setState({suggestionsHidden:!1})},t.prototype.render=function(){var e=this.props,t=e.value,n=e.suggestions,o=e.disabled,i=e.placeholder,r=e.onKeyUp,s=e.autoFocus,u=this.state.suggestionsHidden,c={direction:"ltr"};return Object(j.a)(t)&&(c.direction="rtl"),a()("div",{className:"autosuggest-textarea"},void 0,a()("label",{},void 0,a()("span",{style:{display:"none"}},void 0,i),a()(M.a,{inputRef:this.setTextarea,className:"autosuggest-textarea__textarea",disabled:o,placeholder:i,autoFocus:s,value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:r,onBlur:this.onBlur,onPaste:this.onPaste,style:c,"aria-autocomplete":"list"})),a()("div",{className:"autosuggest-textarea__suggestions "+(u||n.isEmpty()?"":"autosuggest-textarea__suggestions--visible")},void 0,n.map(this.renderSuggestion)))},t}(O.a),o.propTypes={value:w.a.string,suggestions:b.a.list,disabled:w.a.bool,placeholder:w.a.string,onSuggestionSelected:w.a.func.isRequired,onSuggestionsClearRequested:w.a.func.isRequired,onSuggestionsFetchRequested:w.a.func.isRequired,onChange:w.a.func.isRequired,onKeyUp:w.a.func,onKeyDown:w.a.func,onPaste:w.a.func.isRequired,autoFocus:w.a.bool},o.defaultProps={autoFocus:!0},i)},298:function(e,t,n){"use strict";var o=n(9),i=n(299),r=n(67),a=function(){var e=Object(r.c)();return function(t,n){var o=n.id;return{account:e(t,o)}}};t.a=Object(o.connect)(a)(i.a)},299:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o,i,r=n(2),a=n.n(r),s=n(1),u=n.n(s),c=n(3),l=n.n(c),d=n(4),f=n.n(d),p=n(0),h=(n.n(p),n(54)),g=n(53),m=n(14),v=n.n(m),y=n(12),b=n.n(y),_=(i=o=function(e){function t(){return u()(this,t),l()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props.account;return a()("div",{className:"autosuggest-account"},void 0,a()("div",{className:"autosuggest-account-icon"},void 0,a()(h.a,{account:e,size:18})),a()(g.a,{account:e}))},t}(b.a),o.propTypes={account:v.a.map.isRequired},i)},300:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=n(161),h=n.n(p),g=e.env.CDN_HOST||"",m=function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props.emoji,t=void 0;if(e.custom)t=e.imageUrl;else{var n=h.a[e.native]||h.a[e.native.replace(/\uFE0F$/,"")];if(!n)return null;t=g+"/emoji/"+n.filename+".svg"}return i()("div",{className:"autosuggest-emoji"},void 0,i()("img",{className:"emojione",src:t,alt:e.native||e.colons}),e.colons)},t}(f.a.PureComponent)}).call(t,n(35))},301:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=null),void 0===i&&(i=null),null===p.parentNode&&document.body.appendChild(p);var r=s(e,t,n);if(null===r)return null;var a=r.paddingSize,u=r.borderSize,c=r.boxSizing,l=r.sizingStyle;Object.keys(l).forEach(function(e){p.style[e]=l[e]}),Object.keys(h).forEach(function(e){p.style.setProperty(e,h[e],"important")}),p.value=e.value||e.placeholder||"x";var d=-1/0,f=1/0,g=p.scrollHeight;"border-box"===c?g+=u:"content-box"===c&&(g-=a),p.value="x";var m=p.scrollHeight-a;return null===o&&null===i||(null!==o&&(d=m*o,"border-box"===c&&(d=d+a+u),g=Math.max(d,g)),null!==i&&(f=m*i,"border-box"===c&&(f=f+a+u),g=Math.min(f,g))),{height:g,minHeight:d,maxHeight:f,rowCount:Math.floor(g/m)}}function s(e,t,n){if(void 0===n&&(n=!1),n&&m[t])return m[t];var o=window.getComputedStyle(e);if(null===o)return null;var i=g.reduce(function(e,t){return e[t]=o.getPropertyValue(t),e},{}),r=i["box-sizing"];f&&"border-box"===r&&(i.width=parseFloat(i.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var a=parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),s=parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),u={sizingStyle:i,paddingSize:a,borderSize:s,boxSizing:r};return n&&(m[t]=u),u}var u=n(0),c=n.n(u),l=n(5),d=(n.n(l),"undefined"!=typeof window&&"undefined"!=typeof document),f=!!d&&!!document.documentElement.currentStyle,p=d&&document.createElement("textarea"),h={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},g=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],m={},v=function(e){return delete m[e]},y=function(e){return void 0===e&&(e=0),function(){return++e}}(),b=function(){},_=d&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],w=_[0],j=_[1],k=function(e){function t(t){var n;return n=e.call(this,t)||this,n._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef&&n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=b),void 0===n._rootDOMNode)return void e();var t=a(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null===t)return void e();var o=t.height,i=t.minHeight,r=t.maxHeight,s=t.rowCount;if(n.rowCount=s,n.state.height!==o||n.state.minHeight!==i||n.state.maxHeight!==r)return void n.setState({height:o,minHeight:i,maxHeight:r},e);e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=y(),n._controlled="string"==typeof t.value,n}i(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,r(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return t.style=o({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),c.a.createElement("textarea",o({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentWillReceiveProps=function(){var e=this;this._clearNextFrame(),this._onNextFrameActionId=w(function(){return e._resizeComponent()})},n.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),v(this._uid)},n._clearNextFrame=function(){j(this._onNextFrameActionId)},t}(c.a.Component);k.defaultProps={onChange:b,onHeightChange:b,useCacheForDOMMeasurements:!1},t.a=k},302:function(e,t,n){"use strict";var o=n(9),i=n(303),r=n(17),a=function(e){return{disabled:e.getIn(["compose","is_uploading"])||e.getIn(["compose","media_attachments"]).size>3||e.getIn(["compose","media_attachments"]).some(function(e){return"video"===e.get("type")}),resetFileKey:e.getIn(["compose","resetFileKey"])}},s=function(e){return{onSelectFile:function(t){e(Object(r.Z)(t))}}};t.a=Object(o.connect)(a,s)(i.a)},303:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,i,r,a,s=n(2),u=n.n(s),c=n(1),l=n.n(c),d=n(3),f=n.n(d),p=n(4),h=n.n(p),g=n(0),m=n.n(g),v=n(23),y=n(5),b=n.n(y),_=n(7),w=n(9),j=n(12),k=n.n(j),O=n(14),M=n.n(O),C=Object(_.f)({upload:{id:"upload_button.label",defaultMessage:"Add media"}}),x=function(){return function(e){return{acceptContentTypes:e.getIn(["media_attachments","accept_content_types"])}}},S={height:null,lineHeight:"27px"},N=(o=Object(w.connect)(x))(i=Object(_.g)((a=r=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(a))),o.handleChange=function(e){e.target.files.length>0&&o.props.onSelectFile(e.target.files)},o.handleClick=function(){o.fileElement.click()},o.setRef=function(e){o.fileElement=e},i=n,f()(o,i)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.resetFileKey,o=e.disabled,i=e.acceptContentTypes;return u()("div",{className:"compose-form__upload-button"},void 0,u()(v.a,{icon:"camera",title:t.formatMessage(C.upload),disabled:o,onClick:this.handleClick,className:"compose-form__upload-button-icon",size:18,inverted:!0,style:S}),u()("label",{},void 0,u()("span",{style:{display:"none"}},void 0,t.formatMessage(C.upload)),m.a.createElement("input",{key:n,ref:this.setRef,type:"file",multiple:!1,accept:i.toArray().join(","),onChange:this.handleChange,disabled:o,style:{display:"none"}})))},t}(k.a),r.propTypes={disabled:b.a.bool,onSelectFile:b.a.func.isRequired,style:b.a.object,resetFileKey:b.a.number,acceptContentTypes:M.a.listOf(b.a.string).isRequired,intl:b.a.object.isRequired},i=a))||i)||i},304:function(e,t,n){"use strict";var o=n(9),i=n(305),r=n(17),a=n(7),s=Object(a.f)({marked:{id:"compose_form.spoiler.marked",defaultMessage:"Text is hidden behind warning"},unmarked:{id:"compose_form.spoiler.unmarked",defaultMessage:"Text is not hidden"}}),u=function(e,t){return{label:"CW",title:t.intl.formatMessage(e.getIn(["compose","spoiler"])?s.marked:s.unmarked),active:e.getIn(["compose","spoiler"]),ariaControls:"cw-spoiler-input"}},c=function(e){return{onClick:function(){e(Object(r.I)())}}};t.a=Object(a.g)(Object(o.connect)(u,c)(i.a))},305:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=function(e){function t(){var n,o,i;a()(this,t);for(var r=arguments.length,s=Array(r),c=0;c<r;c++)s[c]=arguments[c];return n=o=u()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(e){e.preventDefault(),o.props.onClick()},i=n,u()(o,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.title,o=e.active,r=e.ariaControls;return i()("button",{title:n,"aria-label":n,className:"text-icon-button "+(o?"active":""),"aria-expanded":o,onClick:this.handleClick,"aria-controls":r},void 0,t)},t}(f.a.PureComponent)},306:function(e,t,n){"use strict";var o=n(9),i=n(307),r=n(17),a=n(26),s=n(43),u=function(e){return{isModalOpen:"ACTIONS"===e.get("modal").modalType,value:e.getIn(["compose","privacy"])}},c=function(e){return{onChange:function(t){e(Object(r.J)(t))},isUserTouching:s.c,onModalOpen:function(t){return e(Object(a.d)("ACTIONS",t))},onModalClose:function(){return e(Object(a.c)())}}};t.a=Object(o.connect)(u,c)(i.a)},307:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o,i=n(2),r=n.n(i),a=n(1),s=n.n(a),u=n(3),c=n.n(u),l=n(4),d=n.n(l),f=n(0),p=n.n(f),h=n(7),g=n(23),m=n(97),v=n.n(m),y=n(28),b=n(27),_=n.n(b),w=n(45),j=n.n(w),k=n(10),O=n.n(k),M=Object(h.f)({public_short:{id:"privacy.public.short",defaultMessage:"Public"},public_long:{id:"privacy.public.long",defaultMessage:"Post to public timelines"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Unlisted"},unlisted_long:{id:"privacy.unlisted.long",defaultMessage:"Do not show in public timelines"},private_short:{id:"privacy.private.short",defaultMessage:"Followers-only"},private_long:{id:"privacy.private.long",defaultMessage:"Post to followers only"},direct_short:{id:"privacy.direct.short",defaultMessage:"Direct"},direct_long:{id:"privacy.direct.long",defaultMessage:"Post to mentioned users only"},change_privacy:{id:"privacy.change",defaultMessage:"Adjust status privacy"}}),C=!!j.a.hasSupport&&{passive:!0},x=function(e){function t(){var n,o,i;s()(this,t);for(var r=arguments.length,a=Array(r),u=0;u<r;u++)a[u]=arguments[u];return n=o=c()(this,e.call.apply(e,[this].concat(a))),o.state={mounted:!1},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.handleKeyDown=function(e){var t=o.props.items,n=e.currentTarget.getAttribute("data-index"),i=t.findIndex(function(e){return e.value===n}),r=void 0;switch(e.key){case"Escape":o.props.onClose();break;case"Enter":o.handleClick(e);break;case"ArrowDown":r=o.node.childNodes[i+1],r&&(r.focus(),o.props.onChange(r.getAttribute("data-index")));break;case"ArrowUp":r=o.node.childNodes[i-1],r&&(r.focus(),o.props.onChange(r.getAttribute("data-index")));break;case"Home":r=o.node.firstChild,r&&(r.focus(),o.props.onChange(r.getAttribute("data-index")));break;case"End":r=o.node.lastChild,r&&(r.focus(),o.props.onChange(r.getAttribute("data-index")))}},o.handleClick=function(e){var t=e.currentTarget.getAttribute("data-index");e.preventDefault(),o.props.onClose(),o.props.onChange(t)},o.setRef=function(e){o.node=e},o.setFocusRef=function(e){o.focusedItem=e},i=n,c()(o,i)}return d()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,C),this.focusedItem&&this.focusedItem.focus(),this.setState({mounted:!0})},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,C)},t.prototype.render=function(){var e=this,t=this.state.mounted,n=this.props,o=n.style,i=n.items,a=n.value;return r()(y.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:_()(1,{damping:35,stiffness:400}),scaleX:_()(1,{damping:35,stiffness:400}),scaleY:_()(1,{damping:35,stiffness:400})}},void 0,function(n){var s=n.opacity,u=n.scaleX,c=n.scaleY;return p.a.createElement("div",{className:"privacy-dropdown__dropdown",style:Object.assign({},o,{opacity:s,transform:t?"scale("+u+", "+c+")":null}),role:"listbox",ref:e.setRef},i.map(function(t){return p.a.createElement("div",{role:"option",tabIndex:"0",key:t.value,"data-index":t.value,onKeyDown:e.handleKeyDown,onClick:e.handleClick,className:O()("privacy-dropdown__option",{active:t.value===a}),"aria-selected":t.value===a,ref:t.value===a?e.setFocusRef:null},r()("div",{className:"privacy-dropdown__option__icon"},void 0,r()("i",{className:"fa fa-fw fa-"+t.icon})),r()("div",{className:"privacy-dropdown__option__content"},void 0,r()("strong",{},void 0,t.text),t.meta))}))})},t}(p.a.PureComponent),S=Object(h.g)(o=function(e){function t(){var n,o,i;s()(this,t);for(var r=arguments.length,a=Array(r),u=0;u<r;u++)a[u]=arguments[u];return n=o=c()(this,e.call.apply(e,[this].concat(a))),o.state={open:!1,placement:null},o.handleToggle=function(e){var t=e.target;if(o.props.isUserTouching())o.state.open?o.props.onModalClose():o.props.onModalOpen({actions:o.options.map(function(e){return Object.assign({},e,{active:e.value===o.props.value})}),onClick:o.handleModalActionClick});else{var n=t.getBoundingClientRect(),i=n.top;o.setState({placement:2*i<innerHeight?"bottom":"top"}),o.setState({open:!o.state.open})}},o.handleModalActionClick=function(e){e.preventDefault();var t=o.options[e.currentTarget.getAttribute("data-index")].value;o.props.onModalClose(),o.props.onChange(t)},o.handleKeyDown=function(e){switch(e.key){case"Escape":o.handleClose()}},o.handleClose=function(){o.setState({open:!1})},o.handleChange=function(e){o.props.onChange(e)},i=n,c()(o,i)}return d()(t,e),t.prototype.componentWillMount=function(){var e=this.props.intl.formatMessage;this.options=[{icon:"globe",value:"public",text:e(M.public_short),meta:e(M.public_long)},{icon:"unlock-alt",value:"unlisted",text:e(M.unlisted_short),meta:e(M.unlisted_long)},{icon:"lock",value:"private",text:e(M.private_short),meta:e(M.private_long)},{icon:"envelope",value:"direct",text:e(M.direct_short),meta:e(M.direct_long)}]},t.prototype.render=function(){var e=this.props,t=e.value,n=e.intl,o=this.state,i=o.open,a=o.placement,s=this.options.find(function(e){return e.value===t});return r()("div",{className:O()("privacy-dropdown",{active:i}),onKeyDown:this.handleKeyDown},void 0,r()("div",{className:O()("privacy-dropdown__value",{active:0===this.options.indexOf(s)})},void 0,r()(g.a,{className:"privacy-dropdown__value-icon",icon:s.icon,title:n.formatMessage(M.change_privacy),size:18,expanded:i,active:i,inverted:!0,onClick:this.handleToggle,style:{height:null,lineHeight:"27px"}})),r()(v.a,{show:i,placement:a,target:this},void 0,r()(x,{items:this.options,value:t,onClose:this.handleClose,onChange:this.handleChange})))},t}(p.a.PureComponent))||o},308:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=n(9),h=n(10),g=n.n(h),m=n(23),v=n(17),y=n(28),b=n(27),_=n.n(b),w=n(7),j=Object(w.f)({marked:{id:"compose_form.sensitive.marked",defaultMessage:"Media is marked as sensitive"},unmarked:{id:"compose_form.sensitive.unmarked",defaultMessage:"Media is not marked as sensitive"}}),k=function(e){return{visible:e.getIn(["compose","media_attachments"]).size>0,active:e.getIn(["compose","sensitive"]),disabled:e.getIn(["compose","spoiler"])}},O=function(e){return{onClick:function(){e(Object(v.G)())}}},M=function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.active,o=e.disabled,r=e.onClick,a=e.intl;return i()(y.a,{defaultStyle:{scale:.87},style:{scale:_()(t?1:.87,{stiffness:200,damping:3})}},void 0,function(e){var s=e.scale,u=n?"eye-slash":"eye",c=g()("compose-form__sensitive-button",{"compose-form__sensitive-button--visible":t});return i()("div",{className:c,style:{transform:"scale("+s+")"}},void 0,i()(m.a,{className:"compose-form__sensitive-button__icon",title:a.formatMessage(n?j.marked:j.unmarked),icon:u,onClick:r,size:18,active:n,disabled:o,style:{lineHeight:null,height:null},inverted:!0}))})},t}(f.a.PureComponent);t.a=Object(p.connect)(k,O)(Object(w.g)(M))},309:function(e,t,n){"use strict";var o=n(9),i=n(310),r=n(56),a=n(95),s=(n.n(a),n(8)),u=(n.n(s),n(102)),c=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","yum","disappointed","thinking_face","weary","sob","sunglasses","heart","ok_hand"],l=Object(a.createSelector)([function(e){return e.getIn(["settings","frequentlyUsedEmojis"],Object(s.Map)())}],function(e){var t=e.keySeq().sort(function(t,n){return e.get(t)-e.get(n)}).reverse().slice(0,16).toArray();if(t.length<c.length){var n=c.filter(function(e){return!t.includes(e)});t=t.concat(n.slice(0,c.length-t.length))}return t}),d=Object(a.createSelector)([function(e){return e.get("custom_emojis")}],function(e){return e.filter(function(e){return e.get("visible_in_picker")}).sort(function(e,t){var n=e.get("shortcode").toLowerCase(),o=t.get("shortcode").toLowerCase();return n<o?-1:n>o?1:0})}),f=function(e){return{custom_emojis:d(e),skinTone:e.getIn(["settings","skinTone"]),frequentlyUsedEmojis:l(e)}},p=function(e,t){var n=t.onPickEmoji;return{onSkinTone:function(t){e(Object(r.c)(["skinTone"],t))},onPickEmoji:function(t){e(Object(u.b)(t)),n&&n(t)}}};t.a=Object(o.connect)(f,p)(i.a)},310:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return F});var o,i,r,a,s=n(2),u=n.n(s),c=n(1),l=n.n(c),d=n(3),f=n.n(d),p=n(4),h=n.n(p),g=n(0),m=n.n(g),v=n(7),y=n(58),b=n(97),_=n.n(b),w=n(10),j=n.n(w),k=n(45),O=n.n(k),M=n(73),C=Object(v.f)({emoji:{id:"emoji_button.label",defaultMessage:"Insert emoji"},emoji_search:{id:"emoji_button.search",defaultMessage:"Search..."},emoji_not_found:{id:"emoji_button.not_found",defaultMessage:"No emojos!! (╯°□°）╯︵ ┻━┻"},custom:{id:"emoji_button.custom",defaultMessage:"Custom"},recent:{id:"emoji_button.recent",defaultMessage:"Frequently used"},search_results:{id:"emoji_button.search_results",defaultMessage:"Search results"},people:{id:"emoji_button.people",defaultMessage:"People"},nature:{id:"emoji_button.nature",defaultMessage:"Nature"},food:{id:"emoji_button.food",defaultMessage:"Food & Drink"},activity:{id:"emoji_button.activity",defaultMessage:"Activity"},travel:{id:"emoji_button.travel",defaultMessage:"Travel & Places"},objects:{id:"emoji_button.objects",defaultMessage:"Objects"},symbols:{id:"emoji_button.symbols",defaultMessage:"Symbols"},flags:{id:"emoji_button.flags",defaultMessage:"Flags"}}),x=e.env.CDN_HOST||"",S=void 0,N=void 0,T=function(){return x+"/emoji/sheet_10.png"},P=!!O.a.hasSupport&&{passive:!0},E=["recent","custom","people","nature","foods","activity","places","objects","symbols","flags"],R=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(e){o.props.onSelect(1*e.currentTarget.getAttribute("data-index"))},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},i=n,f()(o,i)}return h()(t,e),t.prototype.componentWillReceiveProps=function(e){e.active?this.attachListeners():this.removeListeners()},t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.attachListeners=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,P)},t.prototype.removeListeners=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,P)},t.prototype.render=function(){var e=this.props.active;return m.a.createElement("div",{className:"emoji-picker-dropdown__modifiers__menu",style:{display:e?"block":"none"},ref:this.setRef},u()("button",{onClick:this.handleClick,"data-index":1},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:1,backgroundImageFn:T})),u()("button",{onClick:this.handleClick,"data-index":2},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:2,backgroundImageFn:T})),u()("button",{onClick:this.handleClick,"data-index":3},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:3,backgroundImageFn:T})),u()("button",{onClick:this.handleClick,"data-index":4},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:4,backgroundImageFn:T})),u()("button",{onClick:this.handleClick,"data-index":5},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:5,backgroundImageFn:T})),u()("button",{onClick:this.handleClick,"data-index":6},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:6,backgroundImageFn:T})))},t}(m.a.PureComponent),D=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(a))),o.handleClick=function(){o.props.active?o.props.onClose():o.props.onOpen()},o.handleSelect=function(e){o.props.onChange(e),o.props.onClose()},i=n,f()(o,i)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.modifier;return u()("div",{className:"emoji-picker-dropdown__modifiers"},void 0,u()(N,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:n,onClick:this.handleClick,backgroundImageFn:T}),u()(R,{active:t,onSelect:this.handleSelect,onClose:this.props.onClose}))},t}(m.a.PureComponent),I=Object(v.g)((r=i=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(a))),o.state={modifierOpen:!1,placement:null},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},o.getI18n=function(){var e=o.props.intl;return{search:e.formatMessage(C.emoji_search),notfound:e.formatMessage(C.emoji_not_found),categories:{search:e.formatMessage(C.search_results),recent:e.formatMessage(C.recent),people:e.formatMessage(C.people),nature:e.formatMessage(C.nature),foods:e.formatMessage(C.food),activity:e.formatMessage(C.activity),places:e.formatMessage(C.travel),objects:e.formatMessage(C.objects),symbols:e.formatMessage(C.symbols),flags:e.formatMessage(C.flags),custom:e.formatMessage(C.custom)}}},o.handleClick=function(e){e.native||(e.native=e.colons),o.props.onClose(),o.props.onPick(e)},o.handleModifierOpen=function(){o.setState({modifierOpen:!0})},o.handleModifierClose=function(){o.setState({modifierOpen:!1})},o.handleModifierChange=function(e){o.props.onSkinTone(e)},i=n,f()(o,i)}return h()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,P)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,P)},t.prototype.render=function(){var e=this.props,t=e.loading,n=e.style,o=e.intl,i=e.custom_emojis,r=e.skinTone,a=e.frequentlyUsedEmojis;if(t)return u()("div",{style:{width:299}});var s=o.formatMessage(C.emoji),c=this.state.modifierOpen;return m.a.createElement("div",{className:j()("emoji-picker-dropdown__menu",{selecting:c}),style:n,ref:this.setRef},u()(S,{perLine:8,emojiSize:22,sheetSize:32,custom:Object(M.buildCustomEmojis)(i),color:"",emoji:"",set:"twitter",title:s,i18n:this.getI18n(),onClick:this.handleClick,include:E,recent:a,skin:r,showPreview:!1,backgroundImageFn:T,emojiTooltip:!0}),u()(D,{active:c,modifier:r,onOpen:this.handleModifierOpen,onClose:this.handleModifierClose,onChange:this.handleModifierChange}))},t}(m.a.PureComponent),i.defaultProps={style:{},loading:!0,frequentlyUsedEmojis:[]},o=r))||o,F=Object(v.g)(a=function(e){function t(){var n,o,i;l()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(a))),o.state={active:!1,loading:!1},o.setRef=function(e){o.dropdown=e},o.onShowDropdown=function(e){var t=e.target;o.setState({active:!0}),S||(o.setState({loading:!0}),Object(y.i)().then(function(e){S=e.Picker,N=e.Emoji,o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})}));var n=t.getBoundingClientRect(),i=n.top;o.setState({placement:2*i<innerHeight?"bottom":"top"})},o.onHideDropdown=function(){o.setState({active:!1})},o.onToggle=function(e){o.state.loading||e.key&&"Enter"!==e.key||(o.state.active?o.onHideDropdown():o.onShowDropdown(e))},o.handleKeyDown=function(e){"Escape"===e.key&&o.onHideDropdown()},o.setTargetRef=function(e){o.target=e},o.findTarget=function(){return o.target},i=n,f()(o,i)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPickEmoji,o=e.onSkinTone,i=e.skinTone,r=e.frequentlyUsedEmojis,a=t.formatMessage(C.emoji),s=this.state,c=s.active,l=s.loading,d=s.placement;return u()("div",{className:"emoji-picker-dropdown",onKeyDown:this.handleKeyDown},void 0,m.a.createElement("div",{ref:this.setTargetRef,className:"emoji-button",title:a,"aria-label":a,"aria-expanded":c,role:"button",onClick:this.onToggle,onKeyDown:this.onToggle,tabIndex:0},u()("img",{className:j()("emojione",{"pulse-loading":c&&l}),alt:"🙂",src:x+"/emoji/1f602.svg"})),u()(_.a,{show:c,placement:d,target:this.findTarget},void 0,u()(I,{custom_emojis:this.props.custom_emojis,loading:l,onClose:this.onHideDropdown,onPick:n,onSkinTone:o,skinTone:i,frequentlyUsedEmojis:r})))},t}(m.a.PureComponent))||a}).call(t,n(35))},311:function(e,t,n){"use strict";var o=n(9),i=n(312),r=function(e){return{mediaIds:e.getIn(["compose","media_attachments"]).map(function(e){return e.get("id")})}};t.a=Object(o.connect)(r)(i.a)},312:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o,i,r=n(2),a=n.n(r),s=n(1),u=n.n(s),c=n(3),l=n.n(c),d=n(4),f=n.n(d),p=n(0),h=(n.n(p),n(14)),g=n.n(h),m=n(313),v=n(12),y=n.n(v),b=n(315),_=(i=o=function(e){function t(){return u()(this,t),l()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props.mediaIds;return a()("div",{className:"compose-form__upload-wrapper"},void 0,a()(m.a,{}),a()("div",{className:"compose-form__uploads-wrapper"},void 0,e.map(function(e){return a()(b.a,{id:e},e)})))},t}(y.a),o.propTypes={mediaIds:g.a.list.isRequired},i)},313:function(e,t,n){"use strict";var o=n(9),i=n(314),r=function(e){return{active:e.getIn(["compose","is_uploading"]),progress:e.getIn(["compose","progress"])}};t.a=Object(o.connect)(r)(i.a)},314:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=n(28),h=n(27),g=n.n(h),m=n(7),v=function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.progress;return t?i()("div",{className:"upload-progress"},void 0,i()("div",{className:"upload-progress__icon"},void 0,i()("i",{className:"fa fa-upload"})),i()("div",{className:"upload-progress__message"},void 0,i()(m.b,{id:"upload_progress.label",defaultMessage:"Uploading..."}),i()("div",{className:"upload-progress__backdrop"},void 0,i()(p.a,{defaultStyle:{width:0},style:{width:g()(n)}},void 0,function(e){var t=e.width;return i()("div",{className:"upload-progress__tracker",style:{width:t+"%"}})})))):null},t}(f.a.PureComponent)},315:function(e,t,n){"use strict";var o=n(9),i=n(316),r=n(17),a=n(26),s=function(e,t){var n=t.id;return{media:e.getIn(["compose","media_attachments"]).find(function(e){return e.get("id")===n})}},u=function(e){return{onUndo:function(t){e(Object(r.X)(t))},onDescriptionChange:function(t,n){e(Object(r.L)(t,{description:n}))},onOpenFocalPoint:function(t){e(Object(a.d)("FOCAL_POINT",{id:t}))}}};t.a=Object(o.connect)(s,u)(i.a)},316:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o,i,r,a=n(2),s=n.n(a),u=n(1),c=n.n(u),l=n(3),d=n.n(l),f=n(4),p=n.n(f),h=n(0),g=(n.n(h),n(14)),m=n.n(g),v=n(5),y=n.n(v),b=n(28),_=n(27),w=n.n(_),j=n(12),k=n.n(j),O=n(7),M=n(10),C=n.n(M),x=Object(O.f)({description:{id:"upload_form.description",defaultMessage:"Describe for the visually impaired"}}),S=Object(O.g)((r=i=function(e){function t(){var n,o,i;c()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=d()(this,e.call.apply(e,[this].concat(a))),o.state={hovered:!1,focused:!1,dirtyDescription:null},o.handleUndoClick=function(){o.props.onUndo(o.props.media.get("id"))},o.handleFocalPointClick=function(){o.props.onOpenFocalPoint(o.props.media.get("id"))},o.handleInputChange=function(e){o.setState({dirtyDescription:e.target.value})},o.handleMouseEnter=function(){o.setState({hovered:!0})},o.handleMouseLeave=function(){o.setState({hovered:!1})},o.handleInputFocus=function(){o.setState({focused:!0})},o.handleInputBlur=function(){var e=o.state.dirtyDescription;o.setState({focused:!1,dirtyDescription:null}),null!==e&&o.props.onDescriptionChange(o.props.media.get("id"),e)},i=n,d()(o,i)}return p()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.intl,o=t.media,i=this.state.hovered||this.state.focused,r=this.state.dirtyDescription||""!==this.state.dirtyDescription&&o.get("description")||"",a=o.getIn(["meta","focus","x"]),u=o.getIn(["meta","focus","y"]),c=100*(a/2+.5),l=100*(u/-2+.5);return s()("div",{className:"compose-form__upload",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,s()(b.a,{defaultStyle:{scale:.8},style:{scale:w()(1,{stiffness:180,damping:12})}},void 0,function(t){var a=t.scale;return s()("div",{className:"compose-form__upload-thumbnail",style:{transform:"scale("+a+")",backgroundImage:"url("+o.get("preview_url")+")",backgroundPosition:c+"% "+l+"%"}},void 0,s()("div",{className:C()("compose-form__upload__actions",{active:i})},void 0,s()("button",{className:"icon-button",onClick:e.handleUndoClick},void 0,s()("i",{className:"fa fa-times"})," ",s()(O.b,{id:"upload_form.undo",defaultMessage:"Delete"})),"image"===o.get("type")&&s()("button",{className:"icon-button",onClick:e.handleFocalPointClick},void 0,s()("i",{className:"fa fa-crosshairs"})," ",s()(O.b,{id:"upload_form.focus",defaultMessage:"Crop"}))),s()("div",{className:C()("compose-form__upload-description",{active:i})},void 0,s()("label",{},void 0,s()("span",{style:{display:"none"}},void 0,n.formatMessage(x.description)),s()("input",{placeholder:n.formatMessage(x.description),type:"text",value:r,maxLength:420,onFocus:e.handleInputFocus,onChange:e.handleInputChange,onBlur:e.handleInputBlur}))))}))},t}(k.a),i.propTypes={media:m.a.map.isRequired,intl:y.a.object.isRequired,onUndo:y.a.func.isRequired,onDescriptionChange:y.a.func.isRequired,onOpenFocalPoint:y.a.func.isRequired},o=r))||o},317:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(0),a=(n.n(r),n(9)),s=n(318),u=n(7),c=n(13),l=/(?:^|[^\/\)\w])#(\w*[a-zA-Z·]\w*)/i,d=function(e){return{needsLockWarning:"private"===e.getIn(["compose","privacy"])&&!e.getIn(["accounts",c.i,"locked"]),hashtagWarning:"public"!==e.getIn(["compose","privacy"])&&l.test(e.getIn(["compose","text"])),directMessageWarning:"direct"===e.getIn(["compose","privacy"])}},f=function(e){var t=e.needsLockWarning,n=e.hashtagWarning,o=e.directMessageWarning;if(t)return i()(s.a,{message:i()(u.b,{id:"compose_form.lock_disclaimer",defaultMessage:"Your account is not {locked}. Anyone can follow you to view your follower-only posts.",values:{locked:i()("a",{href:"/user-settings"},void 0,i()(u.b,{id:"compose_form.lock_disclaimer.lock",defaultMessage:"locked"}))}})});if(n)return i()(s.a,{message:i()(u.b,{id:"compose_form.hashtag_warning",defaultMessage:"This toot won't be listed under any hashtag as it is unlisted. Only public toots can be searched by hashtag."})});if(o){var r=i()("span",{},void 0,i()(u.b,{id:"compose_form.direct_message_warning",defaultMessage:"This toot will only be sent to all the mentioned users."})," ",i()("a",{href:"/terms",target:"_blank"},void 0,i()(u.b,{id:"compose_form.direct_message_warning_learn_more",defaultMessage:"Learn more"})));return i()(s.a,{message:r})}return null};t.a=Object(a.connect)(d)(f)},318:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(2),i=n.n(o),r=n(1),a=n.n(r),s=n(3),u=n.n(s),c=n(4),l=n.n(c),d=n(0),f=n.n(d),p=n(28),h=n(27),g=n.n(h),m=function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props.message;return i()(p.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:g()(1,{damping:35,stiffness:400}),scaleX:g()(1,{damping:35,stiffness:400}),scaleY:g()(1,{damping:35,stiffness:400})}},void 0,function(t){var n=t.opacity,o=t.scaleX,r=t.scaleY;return i()("div",{className:"compose-form__warning",style:{opacity:n,transform:"scale("+o+", "+r+")"}},void 0,e)})},t}(f.a.PureComponent)},319:function(e,t,n){"use strict";var o=n(9),i=n(293),r=n(17),a=function(e){return{text:e.getIn(["compose","text"]),suggestion_token:e.getIn(["compose","suggestion_token"]),suggestions:e.getIn(["compose","suggestions"]),spoiler:e.getIn(["compose","spoiler"]),spoiler_text:e.getIn(["compose","spoiler_text"]),privacy:e.getIn(["compose","privacy"]),focusDate:e.getIn(["compose","focusDate"]),caretPosition:e.getIn(["compose","caretPosition"]),preselectDate:e.getIn(["compose","preselectDate"]),is_submitting:e.getIn(["compose","is_submitting"]),is_uploading:e.getIn(["compose","is_uploading"]),showSearch:e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"]),anyMedia:e.getIn(["compose","media_attachments"]).size>0}},s=function(e){return{onChange:function(t){e(Object(r.F)(t))},onSubmit:function(){e(Object(r.W)())},onClearSuggestions:function(){e(Object(r.M)())},onFetchSuggestions:function(t){e(Object(r.O)(t))},onSuggestionSelected:function(t,n,o){e(Object(r.V)(t,n,o))},onChangeSpoilerText:function(t){e(Object(r.H)(t))},onPaste:function(t){e(Object(r.Z)(t))},onPickEmoji:function(t,n,o){e(Object(r.Q)(t,n,o))}}};t.a=Object(o.connect)(a,s)(i.a)},809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return S});var o,i,r=n(2),a=n.n(r),s=n(1),u=n.n(s),c=n(3),l=n.n(c),d=n(4),f=n.n(d),p=n(0),h=n.n(p),g=n(319),m=n(980),v=n(9),y=n(17),b=n(44),_=n(7),w=n(981),j=n(28),k=n(27),O=n.n(k),M=n(982),C=Object(_.f)({start:{id:"getting_started.heading",defaultMessage:"Getting started"},home_timeline:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},public:{id:"navigation_bar.public_timeline",defaultMessage:"Federated timeline"},community:{id:"navigation_bar.community_timeline",defaultMessage:"Local timeline"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"}}),x=function(e,t){return{columns:e.getIn(["settings","columns"]),showSearch:t.multiColumn?e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"]):t.isSearchPage}},S=(o=Object(v.connect)(x))(i=Object(_.g)(i=function(e){function t(){var n,o,i;u()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=l()(this,e.call.apply(e,[this].concat(a))),o.onFocus=function(){o.props.dispatch(Object(y.K)(!0))},o.onBlur=function(){o.props.dispatch(Object(y.K)(!1))},i=n,l()(o,i)}return f()(t,e),t.prototype.componentDidMount=function(){this.props.isSearchPage||this.props.dispatch(Object(y.S)())},t.prototype.componentWillUnmount=function(){this.props.isSearchPage||this.props.dispatch(Object(y.Y)())},t.prototype.render=function(){var e=this.props,t=e.multiColumn,n=e.showSearch,o=e.isSearchPage,i=e.intl,r="";if(t){var s=this.props.columns;r=a()("nav",{className:"drawer__header"},void 0,a()(b.b,{to:"/getting-started",className:"drawer__tab",title:i.formatMessage(C.start),"aria-label":i.formatMessage(C.start)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-bars"})),!s.some(function(e){return"HOME"===e.get("id")})&&a()(b.b,{to:"/timelines/home",className:"drawer__tab",title:i.formatMessage(C.home_timeline),"aria-label":i.formatMessage(C.home_timeline)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-home"})),!s.some(function(e){return"NOTIFICATIONS"===e.get("id")})&&a()(b.b,{to:"/notifications",className:"drawer__tab",title:i.formatMessage(C.notifications),"aria-label":i.formatMessage(C.notifications)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-bell"})),!s.some(function(e){return"COMMUNITY"===e.get("id")})&&a()(b.b,{to:"/timelines/public/local",className:"drawer__tab",title:i.formatMessage(C.community),"aria-label":i.formatMessage(C.community)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-users"})),!s.some(function(e){return"PUBLIC"===e.get("id")})&&a()(b.b,{to:"/timelines/public",className:"drawer__tab",title:i.formatMessage(C.public),"aria-label":i.formatMessage(C.public)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-globe"})),a()("a",{href:"/user-settings",className:"drawer__tab",title:i.formatMessage(C.preferences),"aria-label":i.formatMessage(C.preferences)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-cog"})),a()("a",{href:"/auth/sign_out",className:"drawer__tab","data-method":"delete",title:i.formatMessage(C.logout),"aria-label":i.formatMessage(C.logout)},void 0,a()("i",{role:"img",className:"fa fa-fw fa-sign-out"})))}return a()("div",{className:"drawer"},void 0,r,(t||o)&&a()(w.a,{}),a()("div",{className:"drawer__pager"},void 0,!o&&a()("div",{className:"drawer__inner",onFocus:this.onFocus},void 0,a()(m.a,{onClose:this.onBlur}),a()(g.a,{})),a()(j.a,{defaultStyle:{x:o?0:-100},style:{x:O()(n||o?0:-100,{stiffness:210,damping:20})}},void 0,function(e){var t=e.x;return a()("div",{className:"drawer__inner darker",style:{transform:"translateX("+t+"%)",visibility:-100===t?"hidden":"visible"}},void 0,a()(M.a,{}))})))},t}(h.a.PureComponent))||i)||i},864:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(0),a=(n.n(r),n(9)),s=n(7),u=n(67),c=n(865),l=n(22),d=n(26),f=n(90),p=n(13),h=Object(s.f)({unfollowConfirm:{id:"confirmations.unfollow.confirm",defaultMessage:"Unfollow"}}),g=function(){var e=Object(u.c)();return function(t,n){return{account:e(t,n.id)}}},m=function(e,t){var n=t.intl;return{onFollow:function(t){e(t.getIn(["relationship","following"])||t.getIn(["relationship","requested"])?p.l?Object(d.d)("CONFIRM",{message:i()(s.b,{id:"confirmations.unfollow.message",defaultMessage:"Are you sure you want to unfollow {name}?",values:{name:i()("strong",{},void 0,"@",t.get("acct"))}}),confirm:n.formatMessage(h.unfollowConfirm),onConfirm:function(){return e(Object(l.D)(t.get("id")))}}):Object(l.D)(t.get("id")):Object(l.z)(t.get("id")))},onBlock:function(t){e(t.getIn(["relationship","blocking"])?Object(l.C)(t.get("id")):Object(l.q)(t.get("id")))},onMute:function(t){e(t.getIn(["relationship","muting"])?Object(l.E)(t.get("id")):Object(f.g)(t))},onMuteNotifications:function(t,n){e(Object(l.A)(t.get("id"),n))}}};t.a=Object(s.g)(Object(a.connect)(g,m)(c.a))},865:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o,i,r,a=n(2),s=n.n(a),u=n(1),c=n.n(u),l=n(3),d=n.n(l),f=n(4),p=n.n(f),h=n(0),g=(n.n(h),n(14)),m=n.n(g),v=n(5),y=n.n(v),b=n(54),_=n(53),w=n(287),j=n(23),k=n(7),O=n(12),M=n.n(O),C=n(13),x=Object(k.f)({follow:{id:"account.follow",defaultMessage:"Follow"},unfollow:{id:"account.unfollow",defaultMessage:"Unfollow"},requested:{id:"account.requested",defaultMessage:"Awaiting approval"},unblock:{id:"account.unblock",defaultMessage:"Unblock @{name}"},unmute:{id:"account.unmute",defaultMessage:"Unmute @{name}"},mute_notifications:{id:"account.mute_notifications",defaultMessage:"Mute notifications from @{name}"},unmute_notifications:{id:"account.unmute_notifications",defaultMessage:"Unmute notifications from @{name}"}}),S=Object(k.g)((r=i=function(e){function t(){var n,o,i;c()(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=o=d()(this,e.call.apply(e,[this].concat(a))),o.handleFollow=function(){o.props.onFollow(o.props.account)},o.handleBlock=function(){o.props.onBlock(o.props.account)},o.handleMute=function(){o.props.onMute(o.props.account)},o.handleMuteNotifications=function(){o.props.onMuteNotifications(o.props.account,!0)},o.handleUnmuteNotifications=function(){o.props.onMuteNotifications(o.props.account,!1)},i=n,d()(o,i)}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.account,n=e.intl,o=e.hidden;if(!t)return s()("div",{});if(o)return s()("div",{},void 0,t.get("display_name"),t.get("username"));var i=void 0;if(t.get("id")!==C.i&&null!==t.get("relationship",null)){var r=t.getIn(["relationship","following"]),a=t.getIn(["relationship","requested"]),u=t.getIn(["relationship","blocking"]),c=t.getIn(["relationship","muting"]);if(a)i=s()(j.a,{disabled:!0,icon:"hourglass",title:n.formatMessage(x.requested)});else if(u)i=s()(j.a,{active:!0,icon:"unlock-alt",title:n.formatMessage(x.unblock,{name:t.get("username")}),onClick:this.handleBlock});else if(c){var l=void 0;l=t.getIn(["relationship","muting_notifications"])?s()(j.a,{active:!0,icon:"bell",title:n.formatMessage(x.unmute_notifications,{name:t.get("username")}),onClick:this.handleUnmuteNotifications}):s()(j.a,{active:!0,icon:"bell-slash",title:n.formatMessage(x.mute_notifications,{name:t.get("username")}),onClick:this.handleMuteNotifications}),i=s()(h.Fragment,{},void 0,s()(j.a,{active:!0,icon:"volume-up",title:n.formatMessage(x.unmute,{name:t.get("username")}),onClick:this.handleMute}),l)}else t.get("moved")&&!r||(i=s()(j.a,{icon:r?"user-times":"user-plus",title:n.formatMessage(r?x.unfollow:x.follow),onClick:this.handleFollow,active:r}))}return s()("div",{className:"account"},void 0,s()("div",{className:"account__wrapper"},void 0,s()(w.a,{className:"account__display-name",href:t.get("url"),to:"/accounts/"+t.get("id")},t.get("id"),s()("div",{className:"account__avatar-wrapper"},void 0,s()(b.a,{account:t,size:36})),s()(_.a,{account:t})),s()("div",{className:"account__relationship"},void 0,i)))},t}(M.a),i.propTypes={account:m.a.map.isRequired,onFollow:y.a.func.isRequired,onBlock:y.a.func.isRequired,onMute:y.a.func.isRequired,onMuteNotifications:y.a.func.isRequired,intl:y.a.object.isRequired,hidden:y.a.bool},o=r))||o},871:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(2),i=n.n(o),r=n(0),a=(n.n(r),n(7)),s=function(e){return e<1e3?i()(a.c,{value:e}):i()(r.Fragment,{},void 0,i()(a.c,{value:e/1e3,maximumFractionDigits:1}),"K")}},886:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o,i,r=n(2),a=n.n(r),s=n(1),u=n.n(s),c=n(3),l=n.n(c),d=n(4),f=n.n(d),p=n(0),h=(n.n(p),n(5)),g=n.n(h),m=n(14),v=n.n(m),y=n(887),b=n(54),_=n(287),w=n(23),j=(n(7),n(12)),k=n.n(j),O=(i=o=function(e){function t(){return u()(this,t),l()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){return a()("div",{className:"navigation-bar"},void 0,a()(_.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,a()("span",{style:{display:"none"}},void 0,this.props.account.get("acct")),a()(b.a,{account:this.props.account,size:40})),a()("div",{className:"navigation-bar__profile"},void 0,a()(_.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,a()("strong",{className:"navigation-bar__profile-account"},void 0,"@",this.props.account.get("acct")))),a()("div",{className:"navigation-bar__actions"},void 0,a()(w.a,{className:"close",title:"",icon:"close",onClick:this.props.onClose}),a()(y.a,{account:this.props.account})))},t}(k.a),o.propTypes={account:v.a.map.isRequired,onClose:g.a.func},i)},887:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o,i=n(2),r=n.n(i),a=n(1),s=n.n(a),u=n(3),c=n.n(u),l=n(4),d=n.n(l),f=n(0),p=n.n(f),h=n(291),g=n(7),m=Object(g.f)({edit_profile:{id:"account.edit_profile",defaultMessage:"Edit profile"},pins:{id:"navigation_bar.pins",defaultMessage:"Pinned toots"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},follow_requests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},favourites:{id:"navigation_bar.favourites",defaultMessage:"Favourites"},lists:{id:"navigation_bar.lists",defaultMessage:"Lists"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domain_blocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"}}),v=Object(g.g)(o=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.intl,t=[];return t.push({text:e.formatMessage(m.preferences),href:"/user-settings"}),t.push({text:e.formatMessage(m.pins),to:"/pinned"}),t.push(null),t.push({text:e.formatMessage(m.follow_requests),to:"/follow_requests"}),t.push({text:e.formatMessage(m.favourites),to:"/favourites"}),t.push({text:e.formatMessage(m.lists),to:"/lists"}),t.push(null),t.push({text:e.formatMessage(m.mutes),to:"/mutes"}),t.push({text:e.formatMessage(m.blocks),to:"/blocks"}),t.push({text:e.formatMessage(m.domain_blocks),to:"/domain_blocks"}),r()("div",{className:"compose__action-bar"},void 0,r()("div",{className:"compose__action-bar-dropdown"},void 0,r()(h.a,{items:t,icon:"ellipsis-v",size:24,direction:"right"})))},t}(p.a.PureComponent))||o},895:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var o,i=n(2),r=n.n(i),a=n(1),s=n.n(a),u=n(3),c=n.n(u),l=n(4),d=n.n(l),f=n(0),p=n.n(f),h=n(7),g=n(97),m=n.n(g),v=n(28),y=n(27),b=n.n(y),_=n(13),w=Object(h.f)({placeholder:{id:"search.placeholder",defaultMessage:"Search"}}),j=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.style,t=_.k?r()(h.b,{id:"search_popout.tips.full_text",defaultMessage:"Simple text returns statuses you have written, favourited, boosted, or have been mentioned in, as well as matching usernames, display names, and hashtags."}):r()(h.b,{id:"search_popout.tips.text",defaultMessage:"Simple text returns matching display names, usernames and hashtags"});return r()("div",{style:Object.assign({},e,{position:"absolute",width:315})},void 0,r()(v.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:b()(1,{damping:35,stiffness:400}),scaleX:b()(1,{damping:35,stiffness:400}),scaleY:b()(1,{damping:35,stiffness:400})}},void 0,function(e){var n=e.opacity,o=e.scaleX,i=e.scaleY;return r()("div",{className:"search-popout",style:{opacity:n,transform:"scale("+o+", "+i+")"}},void 0,r()("h4",{},void 0,r()(h.b,{id:"search_popout.search_format",defaultMessage:"Advanced search format"})),r()("ul",{},void 0,r()("li",{},void 0,r()("em",{},void 0,"#example")," ",r()(h.b,{id:"search_popout.tips.hashtag",defaultMessage:"hashtag"})),r()("li",{},void 0,r()("em",{},void 0,"@username@domain")," ",r()(h.b,{id:"search_popout.tips.user",defaultMessage:"user"})),r()("li",{},void 0,r()("em",{},void 0,"URL")," ",r()(h.b,{id:"search_popout.tips.user",defaultMessage:"user"})),r()("li",{},void 0,r()("em",{},void 0,"URL")," ",r()(h.b,{id:"search_popout.tips.status",defaultMessage:"status"}))),t)}))},t}(p.a.PureComponent),k=Object(h.g)(o=function(e){function t(){var n,o,i;s()(this,t);for(var r=arguments.length,a=Array(r),u=0;u<r;u++)a[u]=arguments[u];return n=o=c()(this,e.call.apply(e,[this].concat(a))),o.state={expanded:!1},o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleClear=function(e){e.preventDefault(),(o.props.value.length>0||o.props.submitted)&&o.props.onClear()},o.handleKeyDown=function(e){"Enter"===e.key?(e.preventDefault(),o.props.onSubmit()):"Escape"===e.key&&document.querySelector(".ui").parentElement.focus()},o.handleFocus=function(){o.setState({expanded:!0}),o.props.onShow()},o.handleBlur=function(){o.setState({expanded:!1})},i=n,c()(o,i)}return d()(t,e),t.prototype.noop=function(){},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.value,o=e.submitted,i=this.state.expanded,a=n.length>0||o;return r()("div",{className:"search"},void 0,r()("label",{},void 0,r()("span",{style:{display:"none"}},void 0,t.formatMessage(w.placeholder)),r()("input",{className:"search__input",type:"text",placeholder:t.formatMessage(w.placeholder),value:n,onChange:this.handleChange,onKeyUp:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur})),r()("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,r()("i",{className:"fa fa-search "+(a?"":"active")}),r()("i",{"aria-label":t.formatMessage(w.placeholder),className:"fa fa-times-circle "+(a?"active":"")})),r()(m.a,{show:i&&!a,placement:"bottom",target:this},void 0,r()(j,{})))},t}(p.a.PureComponent))||o},980:function(e,t,n){"use strict";var o=n(9),i=n(886),r=n(13),a=function(e){return{account:e.getIn(["accounts",r.i])}};t.a=Object(o.connect)(a)(i.a)},981:function(e,t,n){"use strict";var o=n(9),i=n(324),r=n(895),a=function(e){return{value:e.getIn(["search","value"]),submitted:e.getIn(["search","submitted"])}},s=function(e){return{onChange:function(t){e(Object(i.e)(t))},onClear:function(){e(Object(i.f)())},onSubmit:function(){e(Object(i.h)())},onShow:function(){e(Object(i.g)())}}};t.a=Object(o.connect)(a,s)(r.a)},982:function(e,t,n){"use strict";var o=n(9),i=n(983),r=function(e){return{results:e.getIn(["search","results"])}};t.a=Object(o.connect)(r)(i.a)},983:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var o,i,r=n(2),a=n.n(r),s=n(1),u=n.n(s),c=n(3),l=n.n(c),d=n(4),f=n.n(d),p=n(0),h=(n.n(p),n(14)),g=n.n(h),m=n(7),v=n(864),y=n(277),b=n(12),_=n.n(b),w=n(984),j=(i=o=function(e){function t(){return u()(this,t),l()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props.results,t=void 0,n=void 0,o=void 0,i=0;return e.get("accounts")&&e.get("accounts").size>0&&(i+=e.get("accounts").size,t=a()("div",{className:"search-results__section"},void 0,a()("h5",{},void 0,a()("i",{className:"fa fa-fw fa-users"}),a()(m.b,{id:"search_results.accounts",defaultMessage:"People"})),e.get("accounts").map(function(e){return a()(v.a,{id:e},e)}))),e.get("statuses")&&e.get("statuses").size>0&&(i+=e.get("statuses").size,n=a()("div",{className:"search-results__section"},void 0,a()("h5",{},void 0,a()("i",{className:"fa fa-fw fa-quote-right"}),a()(m.b,{id:"search_results.statuses",defaultMessage:"Toots"})),e.get("statuses").map(function(e){return a()(y.a,{id:e},e)}))),e.get("hashtags")&&e.get("hashtags").size>0&&(i+=e.get("hashtags").size,o=a()("div",{className:"search-results__section"},void 0,a()("h5",{},void 0,a()("i",{className:"fa fa-fw fa-hashtag"}),a()(m.b,{id:"search_results.hashtags",defaultMessage:"Hashtags"})),e.get("hashtags").map(function(e){return a()(w.a,{hashtag:e},e.get("name"))}))),a()("div",{className:"search-results"},void 0,a()("div",{className:"search-results__header"},void 0,a()("i",{className:"fa fa-search fa-fw"}),a()(m.b,{id:"search_results.total",defaultMessage:"{count, number} {count, plural, one {result} other {results}}",values:{count:i}})),t,n,o)},t}(_.a),o.propTypes={results:g.a.map.isRequired},i)},984:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(0),a=(n.n(r),n(985)),s=(n.n(a),n(44)),u=n(7),c=n(871),l=function(e){var t=e.hashtag;return i()("div",{className:"trends__item"},void 0,i()("div",{className:"trends__item__name"},void 0,i()(s.b,{to:"/timelines/tag/"+t.get("name")},void 0,"#",i()("span",{},void 0,t.get("name"))),i()(u.b,{id:"trends.count_by_accounts",defaultMessage:"{count} {rawCount, plural, one {person} other {people}} talking",values:{rawCount:t.getIn(["history",0,"accounts"]),count:i()("strong",{},void 0,Object(c.a)(t.getIn(["history",0,"accounts"])))}})),i()("div",{className:"trends__item__current"},void 0,Object(c.a)(t.getIn(["history",0,"uses"]))),i()("div",{className:"trends__item__sparkline"},void 0,i()(a.Sparklines,{width:50,height:28,data:t.get("history")&&t.get("history").reverse().map(function(e){return e.get("uses")}).toArray()},void 0,i()(a.SparklinesCurve,{style:{fill:"none"}}))))};t.a=l},985:function(e,t,n){!function(t,o){e.exports=o(n(0))}(0,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=11)}([function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o};e.exports=n(14)(i,!0)}else e.exports=n(16)()}).call(t,n(2))},function(t,n){t.exports=e},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!g){var e=i(a);g=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,g=!1,r(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var p,h=[],g=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||g||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.reduce(function(e,t){return e+t})/e.length}},function(e,t,n){"use strict";function o(e){return function(){return e}}var i=function(){};i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){function n(e,t,n,i,r,a,s,u){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,a,s,u],d=0;c=new Error(t.replace(/%s/g,function(){return l[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};"production"!==t.env.NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(2))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.min.apply(Math,e)}},function(e,t,n){"use strict";(function(t){var o=n(4),i=o;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=0,r="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.apply(void 0,[t].concat(o))}}}e.exports=i}).call(t,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.max.apply(Math,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){var t=(0,i.default)(e),n=e.map(function(e){return Math.pow(e-t,2)}),o=(0,i.default)(n);return Math.sqrt(o)}},function(e,t,n){e.exports=n(12)},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SparklinesText=t.SparklinesNormalBand=t.SparklinesReferenceLine=t.SparklinesSpots=t.SparklinesBars=t.SparklinesCurve=t.SparklinesLine=t.Sparklines=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=n(17),p=o(f),h=n(18),g=o(h),m=n(19),v=o(m),y=n(20),b=o(y),_=n(21),w=o(_),j=n(22),k=o(j),O=n(27),M=o(O),C=n(28),x=o(C),S=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.limit,o=e.width,i=e.height,r=e.svgWidth,a=e.svgHeight,s=e.preserveAspectRatio,u=e.margin,c=e.style,l=e.max,f=e.min;if(0===t.length)return null;var p=(0,x.default)({data:t,limit:n,width:o,height:i,margin:u,max:l,min:f}),h={style:c,viewBox:"0 0 "+o+" "+i,preserveAspectRatio:s};return r>0&&(h.width=r),a>0&&(h.height=a),d.default.createElement("svg",h,d.default.Children.map(this.props.children,function(e){return d.default.cloneElement(e,{data:t,points:p,width:o,height:i,margin:u})}))}}]),t}(l.PureComponent);S.propTypes={data:c.default.array,limit:c.default.number,width:c.default.number,height:c.default.number,svgWidth:c.default.number,svgHeight:c.default.number,preserveAspectRatio:c.default.string,margin:c.default.number,style:c.default.object,min:c.default.number,max:c.default.number,onMouseMove:c.default.func},S.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},t.Sparklines=S,t.SparklinesLine=g.default,t.SparklinesCurve=v.default,t.SparklinesBars=b.default,t.SparklinesSpots=w.default,t.SparklinesReferenceLine=k.default,t.SparklinesNormalBand=M.default,t.SparklinesText=p.default},function(e,t,n){"use strict";(function(t){var o=n(4),i=n(5),r=n(8),a=n(6),s=n(15);e.exports=function(e,n){function u(e){var t=e&&(M&&e[M]||e[C]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function d(e){function o(o,c,d,f,p,h,g){if(f=f||x,h=h||d,g!==a)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var m=f+":"+d;!s[m]&&u<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,f),s[m]=!0,u++)}return null==c[d]?o?new l(null===c[d]?"The "+p+" `"+h+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+h+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,d,f,p,h)}if("production"!==t.env.NODE_ENV)var s={},u=0;var c=o.bind(null,!1);return c.isRequired=o.bind(null,!0),c}function f(e){function t(t,n,o,i,r,a){var s=t[n];if(w(s)!==e)return new l("Invalid "+i+" `"+r+"` of type `"+j(s)+"` supplied to `"+o+"`, expected `"+e+"`.");return null}return d(t)}function p(e){function t(t,n,o,i,r){if("function"!=typeof e)return new l("Property `"+r+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new l("Invalid "+i+" `"+r+"` of type `"+w(s)+"` supplied to `"+o+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,o,i,r+"["+u+"]",a);if(c instanceof Error)return c}return null}return d(t)}function h(e){function t(t,n,o,i,r){if(!(t[n]instanceof e)){var a=e.name||x;return new l("Invalid "+i+" `"+r+"` of type `"+O(t[n])+"` supplied to `"+o+"`, expected instance of `"+a+"`.")}return null}return d(t)}function g(e){function n(t,n,o,i,r){for(var a=t[n],s=0;s<e.length;s++)if(c(a,e[s]))return null;return new l("Invalid "+i+" `"+r+"` of value `"+a+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)}function m(e){function t(t,n,o,i,r){if("function"!=typeof e)return new l("Property `"+r+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+r+"` of type `"+u+"` supplied to `"+o+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var d=e(s,c,o,i,r+"."+c,a);if(d instanceof Error)return d}return null}return d(t)}function v(e){function n(t,n,o,i,r){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,o,i,r,a))return null}return new l("Invalid "+i+" `"+r+"` supplied to `"+o+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var i=0;i<e.length;i++){var s=e[i];if("function"!=typeof s)return r(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",k(s),i),o.thatReturnsNull}return d(n)}function y(e){function t(t,n,o,i,r){var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+r+"` of type `"+u+"` supplied to `"+o+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var f=d(s,c,o,i,r+"."+c,a);if(f)return f}}return null}return d(t)}function b(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(b);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var o,i=n.call(t);if(n!==t.entries){for(;!(o=i.next()).done;)if(!b(o.value))return!1}else for(;!(o=i.next()).done;){var r=o.value;if(r&&!b(r[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function j(e){if(void 0===e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=j(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function O(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var M="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",x="<<anonymous>>",S={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return d(o.thatReturnsNull)}(),arrayOf:p,element:function(){function t(t,n,o,i,r){var a=t[n];if(!e(a)){return new l("Invalid "+i+" `"+r+"` of type `"+w(a)+"` supplied to `"+o+"`, expected a single ReactElement.")}return null}return d(t)}(),instanceOf:h,node:function(){function e(e,t,n,o,i){return b(e[t])?null:new l("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:m,oneOf:g,oneOfType:v,shape:y};return l.prototype=Error.prototype,S.checkPropTypes=s,S.PropTypes=S,S}}).call(t,n(2))},function(e,t,n){"use strict";(function(t){function o(e,n,o,u,c){if("production"!==t.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var d;try{i("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",u||"React class",o,l),d=e[l](n,l,u,o,null,a)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",o,l,typeof d),d instanceof Error&&!(d.message in s)){s[d.message]=!0;var f=c?c():"";r(!1,"Failed %s type: %s%s",o,d.message,null!=f?f:"")}}}if("production"!==t.env.NODE_ENV)var i=n(5),r=n(8),a=n(6),s={};e.exports=o}).call(t,n(2))},function(e,t,n){"use strict";var o=n(4),i=n(5),r=n(6);e.exports=function(){function e(e,t,n,o,a,s){s!==r&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.point,n=e.text,o=e.fontSize,i=e.fontFamily,r=t.x,a=t.y;return d.default.createElement("g",null,d.default.createElement("text",{x:r,y:a,fontFamily:i||"Verdana",fontSize:o||10},n))}}]),t}(d.default.Component);f.propTypes={text:c.default.string,point:c.default.object,fontSize:c.default.number,fontFamily:c.default.string},f.defaultProps={text:"",point:{x:0,y:0}},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.points,o=(e.width,e.height),i=e.margin,r=e.color,a=e.style,s=e.onMouseMove,u=n.map(function(e){return[e.x,e.y]}).reduce(function(e,t){return e.concat(t)}),c=[n[n.length-1].x,o-i,i,o-i,i,n[0].y],l=u.concat(c),f={stroke:r||a.stroke||"slategray",strokeWidth:a.strokeWidth||"1",strokeLinejoin:a.strokeLinejoin||"round",strokeLinecap:a.strokeLinecap||"round",fill:"none"},p={stroke:a.stroke||"none",strokeWidth:"0",fillOpacity:a.fillOpacity||".1",fill:a.fill||r||"slategray",pointerEvents:"auto"},h=n.map(function(e,n){return d.default.createElement("circle",{key:n,cx:e.x,cy:e.y,r:2,style:p,onMouseEnter:function(o){return s("enter",t[n],e)},onClick:function(o){return s("click",t[n],e)}})});return d.default.createElement("g",null,h,d.default.createElement("polyline",{points:l.join(" "),style:p}),d.default.createElement("polyline",{points:u.join(" "),style:f}))}}]),t}(d.default.Component);f.propTypes={color:c.default.string,style:c.default.object},f.defaultProps={style:{},onMouseMove:function(){}},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.points,n=(e.width,e.height),o=e.margin,i=e.color,r=e.style,a=e.divisor,s=void 0===a?.25:a,u=void 0,c=function(e){var t=void 0;if(u){var n=(e.x-u.x)*s;t=["C",u.x+n,u.y,e.x-n,e.y,e.x,e.y]}else t=[e.x,e.y];return u=e,t},l=t.map(function(e){return c(e)}).reduce(function(e,t){return e.concat(t)}),f=["L"+t[t.length-1].x,n-o,o,n-o,o,t[0].y],p=l.concat(f),h={stroke:i||r.stroke||"slategray",strokeWidth:r.strokeWidth||"1",strokeLinejoin:r.strokeLinejoin||"round",strokeLinecap:r.strokeLinecap||"round",fill:"none"},g={stroke:r.stroke||"none",strokeWidth:"0",fillOpacity:r.fillOpacity||".1",fill:r.fill||i||"slategray"};return d.default.createElement("g",null,d.default.createElement("path",{d:"M"+p.join(" "),style:g}),d.default.createElement("path",{d:"M"+l.join(" "),style:h}))}}]),t}(d.default.Component);f.propTypes={color:c.default.string,style:c.default.object},f.defaultProps={style:{}},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.points,o=t.height,i=t.style,r=t.barWidth,a=t.margin,s=t.onMouseMove,u=1*(i&&i.strokeWidth||0),c=a?2*a:0,l=r||(n&&n.length>=2?Math.max(0,n[1].x-n[0].x-u-c):0);return d.default.createElement("g",{transform:"scale(1,-1)"},n.map(function(t,n){return d.default.createElement("rect",{key:n,x:t.x-(l+u)/2,y:-o,width:l,height:Math.max(0,o-t.y),style:i,onMouseMove:s&&s.bind(e,t)})}))}}]),t}(d.default.Component);f.propTypes={points:c.default.arrayOf(c.default.object),height:c.default.number,style:c.default.object,barWidth:c.default.number,margin:c.default.number,onMouseMove:c.default.func},f.defaultProps={style:{fill:"slategray"}},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"lastDirection",value:function(e){return Math.sign=Math.sign||function(e){return e>0?1:-1},e.length<2?0:Math.sign(e[e.length-2].y-e[e.length-1].y)}},{key:"render",value:function(){var e=this.props,t=e.points,n=(e.width,e.height,e.size),o=e.style,i=e.spotColors,r=d.default.createElement("circle",{cx:t[0].x,cy:t[0].y,r:n,style:o}),a=d.default.createElement("circle",{cx:t[t.length-1].x,cy:t[t.length-1].y,r:n,style:o||{fill:i[this.lastDirection(t)]}});return d.default.createElement("g",null,o&&r,a)}}]),t}(d.default.Component);f.propTypes={size:c.default.number,style:c.default.object,spotColors:c.default.object},f.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=n(23),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.points,n=e.margin,o=e.type,i=e.style,r=e.value,a=t.map(function(e){return e.y}),s="custom"==o?r:p[o](a);return d.default.createElement("line",{x1:t[0].x,y1:s+n,x2:t[t.length-1].x,y2:s+n,style:i})}}]),t}(d.default.Component);h.propTypes={type:c.default.oneOf(["max","min","mean","avg","median","custom"]),value:c.default.number,style:c.default.object},h.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.variance=t.stdev=t.median=t.midRange=t.avg=t.mean=t.max=t.min=void 0;var i=n(7),r=o(i),a=n(3),s=o(a),u=n(24),c=o(u),l=n(25),d=o(l),f=n(10),p=o(f),h=n(26),g=o(h);t.min=r.default,t.max=r.default,t.mean=s.default,t.avg=s.default,t.midRange=c.default,t.median=d.default,t.stdev=p.default,t.variance=g.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=o(i),a=n(9),s=o(a);t.default=function(e){return(0,s.default)(e)-(0,r.default)(e)/2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.sort(function(e,t){return e-t})[Math.floor(e.length/2)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){var t=(0,i.default)(e),n=e.map(function(e){return Math.pow(e-t,2)});return(0,i.default)(n)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),c=o(u),l=n(1),d=o(l),f=n(3),p=o(f),h=n(10),g=o(h),m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.points,n=e.margin,o=e.style,i=t.map(function(e){return e.y}),r=(0,p.default)(i),a=(0,g.default)(i);return d.default.createElement("rect",{x:t[0].x,y:r-a+n,width:t[t.length-1].x-t[0].x,height:2*g.default,style:o})}}]),t}(d.default.Component);m.propTypes={style:c.default.object},m.defaultProps={style:{fill:"red",fillOpacity:.1}},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=o(i),a=n(9),s=o(a);t.default=function(e){var t=e.data,n=e.limit,o=e.width,i=void 0===o?1:o,a=e.height,u=void 0===a?1:a,c=e.margin,l=void 0===c?0:c,d=e.max,f=void 0===d?(0,s.default)(t):d,p=e.min,h=void 0===p?(0,r.default)(t):p,g=t.length;n&&n<g&&(t=t.slice(g-n));var m=(u-2*l)/(f-h||2),v=(i-2*l)/((n||g)-(g>1?1:0));return t.map(function(e,t){return{x:t*v+l,y:(f===h?1:f-e)*m+l}})}}])})}});
//# sourceMappingURL=compose.js.map